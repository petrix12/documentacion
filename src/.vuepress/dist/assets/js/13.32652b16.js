(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{283:function(e,a,r){"use strict";r.r(a);var o=r(13),i=Object(o.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"aprende-a-instalar-laravel-8-en-amazon-web-services"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aprende-a-instalar-laravel-8-en-amazon-web-services"}},[e._v("#")]),e._v(" Aprende a instalar Laravel 8 en Amazon Web Services")]),e._v(" "),a("ul",[a("li",[e._v("Curso: https://www.udemy.com/course/aprende-a-instalar-laravel-8-en-amazon-web-services")]),e._v(" "),a("li",[e._v("Repositorio GitHub: https://github.com/petrix12/awsejemplo.git")])]),e._v(" "),a("h2",{attrs:{id:"seccion-1-introduccion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seccion-1-introduccion"}},[e._v("#")]),e._v(" Sección 1: Introducción")]),e._v(" "),a("h3",{attrs:{id:"video-01-crear-un-proyecto-de-laravel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-01-crear-un-proyecto-de-laravel"}},[e._v("#")]),e._v(" Video 01. Crear un proyecto de Laravel")]),e._v(" "),a("ol",[a("li",[e._v("Crear un proyecto de Laravel:\n"),a("ul",[a("li",[e._v("$ laravel new awsejemplo")])])]),e._v(" "),a("li",[e._v("Instalar Jetstream al proyecto:\n"),a("ul",[a("li",[e._v("$ composer require laravel/jetstream")])])]),e._v(" "),a("li",[e._v("Instalar livewire:\n"),a("ul",[a("li",[e._v("$ php artisan jetstream:install livewire")])])]),e._v(" "),a("li",[e._v("Crear base de datos "),a("strong",[e._v("awsejemplo")]),e._v(" con phpMyAdmin.")]),e._v(" "),a("li",[e._v("Ejecutar migraciones:\n"),a("ul",[a("li",[e._v("$ php artisan migrate")])])]),e._v(" "),a("li",[e._v("Ejecutar:\n"),a("ul",[a("li",[e._v("$ npm install")]),e._v(" "),a("li",[e._v("$ npm run dev")])])])]),e._v(" "),a("h3",{attrs:{id:"video-2-subir-el-proyecto-a-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-2-subir-el-proyecto-a-github"}},[e._v("#")]),e._v(" Video 2. Subir el proyecto a GitHub")]),e._v(" "),a("ol",[a("li",[e._v("Ir a https://github.com (Crea una cuenta si aún no la tienes)")]),e._v(" "),a("li",[e._v("Crear un nuevo repositorio y nombrarlo "),a("strong",[e._v("awsejemplo")]),e._v(".")]),e._v(" "),a("li",[e._v("Descargar e instalar "),a("strong",[e._v("Git")]),e._v(" en https://git-scm.com.")]),e._v(" "),a("li",[e._v("En local ejecutar:\n"),a("ul",[a("li",[e._v("$ git init")]),e._v(" "),a("li",[e._v("$ git add .")]),e._v(" "),a("li",[e._v('$ git commit -m "Primer commit"')]),e._v(" "),a("li",[e._v("$ git remote add origin https://github.com/petrix12/awsejemplo.git")]),e._v(" "),a("li",[e._v("git branch -M main")]),e._v(" "),a("li",[e._v("git push -u origin main")])])])]),e._v(" "),a("h2",{attrs:{id:"seccion-2-aws-ec2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seccion-2-aws-ec2"}},[e._v("#")]),e._v(" Sección 2: AWS EC2")]),e._v(" "),a("h3",{attrs:{id:"video-3-lanzar-instancia-en-ec2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-3-lanzar-instancia-en-ec2"}},[e._v("#")]),e._v(" Video 3. Lanzar instancia en EC2")]),e._v(" "),a("ol",[a("li",[e._v("Ir a https://aws.amazon.com/es")]),e._v(" "),a("li",[e._v("Ir a "),a("strong",[e._v("Mi cuenta")]),e._v(" > "),a("strong",[e._v("Consola de administración de AWS")]),e._v(" e iniciar sesión.")]),e._v(" "),a("li",[e._v("Ir al servicio "),a("strong",[e._v("EC2")]),e._v(" y dar clic en "),a("strong",[e._v("Instancias New")]),e._v(".")]),e._v(" "),a("li",[e._v("Dar clic en el botón de "),a("strong",[e._v("Lanzar instancia")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar:\n"),a("ul",[a("li",[e._v("Ubuntu Server 18.04 LTS (HVM), SSD Volume Type - ami-0747bdcabd34c712a (64 bits x86) / ami-08353a25e80beea3e (64 bits Arm)")])])]),e._v(" "),a("li",[e._v("Seleccionar el de tipo t2.micro (Apto para capa gratuita)."),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Para una aplicación real no debe bajar de t2.medium")])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Siguiente: Página Configuración de los detalles de la instancia")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Dejar todo como está.")])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Siguiente: Adición de almacenamiento")]),e._v(" "),a("li",[e._v("Establecer "),a("strong",[e._v("Tamaño (GiB)")]),e._v(" en "),a("strong",[e._v("30")])])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Siguiente: Agregar etiquetas")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Dejar todo como está.")])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Siguiente: Página Configure Security Group\nY ajustar parámetros:")]),e._v(" "),a("li",[e._v("Dejar regla: "),a("strong",[e._v("SSH")])]),e._v(" "),a("li",[e._v("Añadir regla: "),a("strong",[e._v("HTTP")])]),e._v(" "),a("li",[e._v("Añadir regla: "),a("strong",[e._v("HTTPS")])]),e._v(" "),a("li",[e._v("Para la regla "),a("strong",[e._v("SSH")]),e._v(" establecer "),a("strong",[e._v("Origen")]),e._v(" como "),a("strong",[e._v("Mi IP")])]),e._v(" "),a("li",[e._v("Para las reglas "),a("strong",[e._v("HTTP")]),e._v(" y "),a("strong",[e._v("HTTPS")]),e._v(" establecer "),a("strong",[e._v("Origen")]),e._v(" como "),a("strong",[e._v("Cualquier lugar")])])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Revisar y lanzar")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Dejar todo como está.")])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Lanzar\nY luego:")]),e._v(" "),a("li",[e._v("Seleccionar: Crear un nuevo par de claves")]),e._v(" "),a("li",[e._v("Nombre del par de claves: awsejemplo")]),e._v(" "),a("li",[e._v("Dar clic en el botón: Descargar par de claves"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("ul",[a("li",[e._v("Guardar en un lugar seguro y evitar que se suba a GitHub.")]),e._v(" "),a("li",[e._v("Para este ejemplo lo guarderé en una carpeta dentro del proyecto: awsejemplo.pem, y editare el archivo "),a("strong",[e._v(".gitignore")]),e._v(" para evitar que se incluya en los repositorios.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/node_modules\n/public/hot\n/public/storage\n/storage/*.key\n/vendor\n.env\n.env.backup\n.phpunit.result.cache\ndocker-compose.override.yml\nHomestead.json\nHomestead.yaml\nnpm-debug.log\nyarn-error.log\n/.idea\n/.vscode\nawsejemplo.pem \n")])])]),e._v(" "),a("p")])]),e._v(" "),a("li",[e._v("Dar clic en el botón: "),a("strong",[e._v("Lanzar instancias")]),e._v(".")])])]),e._v(" "),a("li",[e._v("Dar clic en el botón:\n"),a("ul",[a("li",[e._v("Ver instancias")])])])]),e._v(" "),a("h3",{attrs:{id:"video-4-conectarnos-a-la-instancia-via-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-4-conectarnos-a-la-instancia-via-ssh"}},[e._v("#")]),e._v(" Video 4. Conectarnos a la instancia vía SSH")]),e._v(" "),a("ol",[a("li",[e._v("Para los sistemas operativos Mac o Linux ejecutar:\n"),a("ul",[a("li",[e._v("$ chmod 400 awsejemplo.pem")])])]),e._v(" "),a("li",[e._v("Para el sistema operativo Windows:\n"),a("ul",[a("li",[e._v("Ubicar el archivo "),a("strong",[e._v("awsejemplo.pem")]),e._v(" en disco, presionar sobre el el botón derecho y dar clic en "),a("strong",[e._v("Propiedades")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar la pestaña de "),a("strong",[e._v("Seguridad")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Opciones avanzadas")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Deshabilitar herencia")]),e._v(".")]),e._v(" "),a("li",[e._v("Dar clic: "),a("strong",[e._v("Quitar todos los permisos heredados de este objeto")]),e._v(".")]),e._v(" "),a("li",[e._v("Copiar el nombre del "),a("strong",[e._v("Propietario")]),e._v(" que está entre los parentisis: DESKTOP-PETRIX\\Pedro Bazo")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Agregar")]),e._v(".")]),e._v(" "),a("li",[e._v("Dar clic: "),a("strong",[e._v("Seleccionar una entidad de seguridad")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Escriba el nombre de objeto para seleccionar")]),e._v(" escribrie el nombre copiado en los pasos anteriores.")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Comprobar nombres")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Aceptar")]),e._v(".")]),e._v(" "),a("li",[e._v("Verificar que los permisos que tienen que estar habilitados son:\n"),a("ul",[a("li",[e._v("Lectura y ejecución")]),e._v(" "),a("li",[e._v("Lectura")])])]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Aceptar")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Aceptar")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Aceptar")]),e._v(".")])])]),e._v(" "),a("li",[e._v("En el navegador ingresar a la instancias presionando abajo de "),a("strong",[e._v("ID de la instancia")]),e._v(" y dar clic en el botón "),a("strong",[e._v("Conectar")]),e._v(".")]),e._v(" "),a("li",[e._v("Ir a "),a("strong",[e._v("Cliente SSH")]),e._v(' y copiar el comando de ejemplo: ssh -i "awsejemplo.pem" ubuntu@ec2-100-25-148-222.compute-1.amazonaws.com')]),e._v(" "),a("li",[e._v("En local ejecutar (en la ruta que se encuentre el archivo "),a("strong",[e._v("awsejemplo.pem")]),e._v("):\n"),a("ul",[a("li",[e._v('$ ssh -i "awsejemplo.pem" ubuntu@ec2-100-25-148-222.compute-1.amazonaws.com')])])]),e._v(" "),a("li",[e._v("A la pregunta: Are you sure you want to continue connecting (yes/no/[fingerprint])?\n"),a("ul",[a("li",[e._v("Respondemos: yes")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Con esta acción hemos ingresado en el servidor de AWS.")])])])]),e._v(" "),a("h3",{attrs:{id:"video-5-configurar-nuestro-servidor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-5-configurar-nuestro-servidor"}},[e._v("#")]),e._v(" Video 5. Configurar nuestro servidor")]),e._v(" "),a("ol",[a("li",[e._v("En la terminal del servidor de AWS:\n"),a("ul",[a("li",[e._v("Actualizar servidor:\n"),a("ul",[a("li",[e._v("$ sudo apt-get update")]),e._v(" "),a("li",[e._v("$ sudo apt-get upgrade")]),e._v(" "),a("li",[e._v("Cuando pregunte: Do you want to continue? [Y/n]\n"),a("ul",[a("li",[e._v("Responder: y")])])])])]),e._v(" "),a("li",[e._v("Actualizar nuevamente el servidor:\n"),a("ul",[a("li",[e._v("$ sudo apt-get update")])])]),e._v(" "),a("li",[e._v("Configurar entorno para ejecutar Laravel:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install software-properties-common")]),e._v(" "),a("li",[e._v("$ sudo add-apt-repository ppa:ondrej/php")]),e._v(" "),a("li",[e._v("Cuando pregunte: Press [ENTER] to continue or Ctrl-c to cancel adding it.\n"),a("ul",[a("li",[e._v("Presionamos ENTER.")])])]),e._v(" "),a("li",[e._v("Actualizar nuevamente el servidor:\n"),a("ul",[a("li",[e._v("$ sudo apt-get update")])])]),e._v(" "),a("li",[e._v("Instalar php:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install php7.4")]),e._v(" "),a("li",[e._v("Cuando pregunte: Do you want to continue? [Y/n]\n"),a("ul",[a("li",[e._v("Responder: y")])])])])]),e._v(" "),a("li",[e._v("Instalar el servidor apache:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install apache2")]),e._v(" "),a("li",[e._v("$ sudo apt-get install libapache2-mod-php7.4")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Para ver la versión de php: $ php -v")])])]),e._v(" "),a("li",[e._v("Para saber los modulos instalados en php:\n"),a("ul",[a("li",[e._v("$ php -m")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Constrastar contra https://laravel.com/docs/8.x/deployment#server-requirements y verificar cuales son necesarias.")])])]),e._v(" "),a("li",[e._v("Instalar extensiones de php necesarias para Laravel:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install php7.4-bcmath")]),e._v(" "),a("li",[e._v("$ sudo apt-get install php7.4-mbstring\n"),a("ul",[a("li",[e._v("En: Do you want to continue? [Y/n]\nResponder: y")])])]),e._v(" "),a("li",[e._v("$ sudo apt-get install php7.4-xml")])])]),e._v(" "),a("li",[e._v("Instalar paquetes que necesitaremos más adelante:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install unzip")]),e._v(" "),a("li",[e._v("$ sudo apt-get install php7.4-zip\n"),a("ul",[a("li",[e._v("En: Do you want to continue? [Y/n]\nResponder: y")])])]),e._v(" "),a("li",[e._v("$ sudo apt-get install php7.4-mysql")]),e._v(" "),a("li",[e._v("$ sudo apt-get install php7.4-curl")])])])])])])]),e._v(" "),a("li",[e._v("En el navegador:\n"),a("ul",[a("li",[e._v("Ir: "),a("strong",[e._v("Servicios")]),e._v(" > "),a("strong",[e._v("EC2")]),e._v(" > "),a("strong",[e._v("Recursos")]),e._v(" > "),a("strong",[e._v("Instancias")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar nuestra instancia en ejecución.")]),e._v(" "),a("li",[e._v("Ubicar: Dirección IPv4 pública: 100.24.116.157"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Esta es la dirección de nuestro sitio web.")])])])])]),e._v(" "),a("li",[e._v("En la terminal del servidor de AWS:\n"),a("ul",[a("li",[e._v("Reiniciar el servidor apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 restart")])])]),e._v(" "),a("li",[e._v("Para verificar que no tengamos ningún error:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 status")])])]),e._v(" "),a("li",[e._v("Habilitar el modulo rewrite\n"),a("ul",[a("li",[e._v("$ sudo a2enmod rewrite")])])]),e._v(" "),a("li",[e._v("Reiniciar el servidor apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 restart")])])]),e._v(" "),a("li",[e._v("Definir punto de acceso a nuestra aplicación web:\n"),a("ul",[a("li",[e._v("Ingresar a la ruta: /var/www/html\n"),a("ul",[a("li",[e._v("$ cd /var/www/html"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Para ver los archivos contenidos en una ruta:")]),e._v(" "),a("ul",[a("li",[e._v("$ ls\n"),a("p")])])])])])]),e._v(" "),a("li",[e._v("Editar el archivo index.html:\n"),a("ul",[a("li",[e._v("$ sudo nano index.html")]),e._v(" "),a("li",[e._v("Cambiar la etiqueta title del head por:"),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Hola"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("Para guardar, presionar:\n"),a("ul",[a("li",[e._v("Ctrl + X")]),e._v(" "),a("li",[e._v("y")]),e._v(" "),a("li",[e._v("ENTER")])])])])]),e._v(" "),a("li",[e._v("Editar archivo de configuración de punto de acceso:\n"),a("ul",[a("li",[e._v("$ sudo nano /etc/apache2/sites-enabled/000-default.conf")]),e._v(" "),a("li",[e._v("Cambiar línea:\n"),a("ul",[a("li",[e._v("DocumentRoot /var/www/html\nPor:")]),e._v(" "),a("li",[e._v("DocumentRoot /var/www/awsejemplo/public")])])]),e._v(" "),a("li",[e._v("Para guardar, presionar:\n"),a("ul",[a("li",[e._v("Ctrl + X")]),e._v(" "),a("li",[e._v("y")]),e._v(" "),a("li",[e._v("ENTER")])])])])])])]),e._v(" "),a("li",[e._v("Reiniciar el servidor apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 restart")])])])])])]),e._v(" "),a("h3",{attrs:{id:"video-6-instalar-composer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-6-instalar-composer"}},[e._v("#")]),e._v(" Video 6. Instalar Composer")]),e._v(" "),a("ol",[a("li",[e._v("Copiar de la página: https://getcomposer.org/download, el bloque de "),a("strong",[e._v("Command-line installation")]),e._v(":"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\nphp -r \"if (hash_file('sha384', 'composer-setup.php') === '756890a4488ce9024fc62c56153228907f1545c228516cbf63f885e036d37e9a59d27d63f46af1d4d07ee0f76181c7d3') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"\nphp composer-setup.php\nphp -r \"unlink('composer-setup.php');\"\n")])])])]),e._v(" "),a("li",[e._v("En la terminal del servidor de AWS pegar las líneas de comandos que acabamos de copiar y presionar ENTER.")]),e._v(" "),a("li",[e._v("Realizar la instalación global de composer:\n"),a("ul",[a("li",[e._v("$ sudo mv composer.phar /usr/local/bin/composer")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("ul",[a("li",[e._v("Este comando se encuentra en https://getcomposer.org/doc/00-intro.md")]),e._v(" "),a("li",[e._v("Para comprobar que tenemos instalado composer, ejecutar:\n"),a("ul",[a("li",[e._v("$ composer\n"),a("p")])])])])])])]),e._v(" "),a("h3",{attrs:{id:"video-7-clonar-nuestro-repositorio-de-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-7-clonar-nuestro-repositorio-de-git"}},[e._v("#")]),e._v(" Video 7. Clonar nuestro repositorio de Git")]),e._v(" "),a("ol",[a("li",[e._v("Ir a la ruta "),a("strong",[e._v("/var/www")]),e._v(":\n"),a("ul",[a("li",[e._v("$ cd /var/www")])])]),e._v(" "),a("li",[e._v("Clonar el repositorio del proyecto:\n"),a("ul",[a("li",[e._v("$ sudo git clone https://github.com/petrix12/awsejemplo.git")])])]),e._v(" "),a("li",[e._v("Ir a la ruta "),a("strong",[e._v("/var/www/awsejemplo")]),e._v(":\n"),a("ul",[a("li",[e._v("$ cd /var/www/awsejemplo")])])]),e._v(" "),a("li",[e._v("Para poder instalar las dependencias de composer, ejecutar:\n"),a("ul",[a("li",[e._v("$ sudo chown -R ubuntu:www-data .")])])]),e._v(" "),a("li",[e._v("Ejecutar permisos para la carpeta de laravel:\n"),a("ul",[a("li",[e._v("$ chmod -R 755 .")]),e._v(" "),a("li",[e._v("$ chmod -R 777 ./storage")])])]),e._v(" "),a("li",[e._v("Instalar composer:\n"),a("ul",[a("li",[e._v("$ composer install")])])]),e._v(" "),a("li",[e._v("Crear el archivo "),a("strong",[e._v(".env")]),e._v(" a partir de "),a("strong",[e._v(".env.example")]),e._v(":\n"),a("ul",[a("li",[e._v("$ cp .env.example .env")])])]),e._v(" "),a("li",[e._v("Generar llave del proyecto:\n"),a("ul",[a("li",[e._v("$ php artisan key:generate")])])]),e._v(" "),a("li",[e._v("Instalar NodeJs:\n"),a("ul",[a("li",[e._v("$ sudo apt install nodejs\n"),a("ul",[a("li",[e._v("Do you want to continue? [Y/n]\nResponder: y")])])])])]),e._v(" "),a("li",[e._v("Para ver la versión de NodeJs:\n"),a("ul",[a("li",[e._v("$ nodejs -v")])])]),e._v(" "),a("li",[e._v("Actualizar NodeJs:\n"),a("ul",[a("li",[e._v("$ curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -")])])]),e._v(" "),a("li",[e._v("Ejecutar:\n"),a("ul",[a("li",[e._v("$ sudo apt-get install -y nodejs")])])]),e._v(" "),a("li",[e._v("Para ver la versión de npm:\n"),a("ul",[a("li",[e._v("$ npm -v")])])]),e._v(" "),a("li",[e._v("Ejecutar:\n"),a("ul",[a("li",[e._v("$ npm install")]),e._v(" "),a("li",[e._v("$ npm run dev")])])]),e._v(" "),a("li",[e._v("Para editar "),a("strong",[e._v(".env")]),e._v(":\n"),a("ul",[a("li",[e._v("$ nano .env")])])])]),e._v(" "),a("h2",{attrs:{id:"seccion-3-aws-rds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seccion-3-aws-rds"}},[e._v("#")]),e._v(" Sección 3: AWS RDS")]),e._v(" "),a("h3",{attrs:{id:"video-8-creacion-de-la-base-de-datos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-8-creacion-de-la-base-de-datos"}},[e._v("#")]),e._v(" Video 8. Creación de la base de Datos")]),e._v(" "),a("ol",[a("li",[e._v("En la página de AWS buscar el servicio RDS:\n"),a("ul",[a("li",[e._v("https://console.aws.amazon.com/rds/home?region=us-east-1")]),e._v(" "),a("li",[e._v("Dar clic en el botón: "),a("strong",[e._v("Crear base de datos")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Elegir un método de creación de base de datos")]),e._v(":\n"),a("ul",[a("li",[e._v("Seleccionar la opción: "),a("strong",[e._v("Creación estándar")]),e._v(".")])])]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Opciones del motor")]),e._v(":\n"),a("ul",[a("li",[e._v("Seleccionar la opción: "),a("strong",[e._v("MariaDB")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar la versión: "),a("strong",[e._v("MariaDB 10.5.8")]),e._v(".")])])]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Plantillas")]),e._v(":\n"),a("ul",[a("li",[e._v("Seleccionar la opción: "),a("strong",[e._v("Capa gratuita")]),e._v(".")])])]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Configuración")]),e._v(" > "),a("strong",[e._v("Identificador de instancias de bases de datos")]),e._v(":\n"),a("ul",[a("li",[e._v("Escribir: awsejemplo-db")])])]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Configuración")]),e._v(" > "),a("strong",[e._v("Configuración de credenciales")]),e._v(" > "),a("strong",[e._v("Nombre de usuario maestro")]),e._v(":\n"),a("ul",[a("li",[e._v("Escribir: awsejemplo_usr")])])]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Configuración")]),e._v(" > "),a("strong",[e._v("Configuración de credenciales")]),e._v(" > "),a("strong",[e._v("Generación automática de contraseña")]),e._v(": Seleccionar.")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Conectividad")]),e._v(" > "),a("strong",[e._v("Acceso público")]),e._v(": Seleccionar "),a("strong",[e._v("Si")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Configuración adicional")]),e._v(" > "),a("strong",[e._v("Opciones de base de datos")]),e._v(" > "),a("strong",[e._v("Nombre de base de datos inicial")]),e._v(":\n"),a("ul",[a("li",[e._v("Escribir: awsejemplo_db")])])]),e._v(" "),a("li",[e._v("Presionar botón: "),a("strong",[e._v("Crear base de datos")]),e._v(".")]),e._v(" "),a("li",[e._v("Cuando finalice la creación de la base de datos, presionar el botón: "),a("strong",[e._v("View credential details")]),e._v("."),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Anotar credenciales en un lugar seguro")])])])])])]),e._v(" "),a("h3",{attrs:{id:"video-9-editar-los-security-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-9-editar-los-security-group"}},[e._v("#")]),e._v(' Video 9. Editar los "Security Group"')]),e._v(" "),a("ol",[a("li",[e._v("En la página de AWS seleccionar la base de datos "),a("strong",[e._v("awsejemplo-db")]),e._v(": "),a("strong",[e._v("Amazon RDS")]),e._v(" > "),a("strong",[e._v("Databases")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar "),a("strong",[e._v("Conectividad y seguridad")]),e._v(" > "),a("strong",[e._v("Seguridad")]),e._v(" > "),a("strong",[e._v("Grupos de seguridad de la VPC")]),e._v(" > default (sg-09f6e23a).")]),e._v(" "),a("li",[e._v("Seleccionar "),a("strong",[e._v("Grupos de seguridad")]),e._v(" > "),a("strong",[e._v("ID del grupo de seguridad")]),e._v(" > sg-09f6e23a")]),e._v(" "),a("li",[e._v("Seleccionar "),a("strong",[e._v("Reglas de entrada")]),e._v(" y presionar botón "),a("strong",[e._v("Edit inbound rules")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Agregar regla")]),e._v(" y seleccionar el tipo "),a("strong",[e._v("MySQL/Aurora")]),e._v(" y seleccionar como origen "),a("strong",[e._v("Mi IP")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar botón "),a("strong",[e._v("Guardar reglas")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"video-10-conectar-con-mysql-workbench"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-10-conectar-con-mysql-workbench"}},[e._v("#")]),e._v(" Video 10. Conectar con MySQL Workbench")]),e._v(" "),a("ol",[a("li",[e._v("Ir a https://www.mysql.com/products/workbench")]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Download Now »")]),e._v(".")]),e._v(" "),a("li",[e._v("En la siguiente página presionar el botón "),a("strong",[e._v("Download")]),e._v(" y luego en el enlace "),a("strong",[e._v("No thanks, just start my download")]),e._v(".")]),e._v(" "),a("li",[e._v("Instalar "),a("strong",[e._v("MySQL Workbench")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("MySQL Workbench")]),e._v(":\n"),a("ul",[a("li",[e._v("Seleccionar "),a("strong",[e._v("Database")]),e._v(" > "),a("strong",[e._v("Manage Connections...")]),e._v(".")]),e._v(" "),a("li",[e._v("En el cuadro de diálogo "),a("strong",[e._v("Manage Server Connections")]),e._v(" suministrar la siguiente información:\n"),a("ul",[a("li",[e._v("Presionar botón: New")]),e._v(" "),a("li",[e._v("Connection Name: awsejemplo")]),e._v(" "),a("li",[e._v("Hostname: awsejemplo-db.cgfry9dn7zav.us-east-1.rds.amazonaws.com\n"),a("ul",[a("li",[e._v("Es el punto de enlace que aparece en la página de AWS: RDS > Databases > awsejemplo-db")])])]),e._v(" "),a("li",[e._v("Port: 3306")]),e._v(" "),a("li",[e._v("Username: awsejemplo_usr")]),e._v(" "),a("li",[e._v("Password: ************")])])]),e._v(" "),a("li",[e._v("Presionar botón: "),a("strong",[e._v("Test Connection")]),e._v(" para comprobar el estado de la conección.")]),e._v(" "),a("li",[e._v("Presionar botón: "),a("strong",[e._v("Close")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar "),a("strong",[e._v("Database")]),e._v(" > "),a("strong",[e._v("Connect to Database")]),e._v(".")]),e._v(" "),a("li",[e._v("En el cuadro de diálogo "),a("strong",[e._v("Connect to Database")]),e._v(" seleccionamos la conección "),a("strong",[e._v("awsejemplo")]),e._v(" y presionamos el botón "),a("strong",[e._v("OK")]),e._v(".")])])])]),e._v(" "),a("h3",{attrs:{id:"video-11-configurar-las-credenciales-en-laravel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-11-configurar-las-credenciales-en-laravel"}},[e._v("#")]),e._v(" Video 11. Configurar las credenciales en Laravel")]),e._v(" "),a("ol",[a("li",[e._v("En la terminal de AWS ir a la ruta "),a("strong",[e._v("/var/www/awsejemplo")]),e._v(":\n"),a("ul",[a("li",[e._v("$ cd /var/www/awsejemplo")])])]),e._v(" "),a("li",[e._v("En la terminal de AWS editar el archivo "),a("strong",[e._v(".env")]),e._v(":\n"),a("ul",[a("li",[e._v("$ nano .env")])])]),e._v(" "),a("li",[e._v("Modificar los siguientes parámetros en el archivo "),a("strong",[e._v(".env")]),e._v(":\n"),a("ul",[a("li",[e._v("DB_HOST=awsejemplo-db.cgfry9dn7zav.us-east-1.rds.amazonaws.com"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Este valor se encuentra en la página de AWS en: RDS > Databases > awsejemplo-db")]),e._v(" "),a("ul",[a("li",[e._v("Conectividad y seguridad -> Punto de enlace y puerto -> Punto de enlace\n"),a("p")])])])]),e._v(" "),a("li",[e._v("DB_DATABASE=awsejemplo_db")]),e._v(" "),a("li",[e._v("DB_USERNAME=awsejemplo_usr")]),e._v(" "),a("li",[e._v("DB_PASSWORD=*************")])])]),e._v(" "),a("li",[e._v("Para guardar el archivo "),a("strong",[e._v(".env")]),e._v(":\n"),a("ul",[a("li",[e._v("$ Ctrl + X")]),e._v(" "),a("li",[e._v("$ y")]),e._v(" "),a("li",[e._v("$ ENTER")])])]),e._v(" "),a("li",[e._v("Para verificar que podemos establecer una conexión con la base de datos, ir a la terminal AWS y ejecutar:\n"),a("ul",[a("li",[e._v("$ php artisan tinker")]),e._v(" "),a("li",[e._v("'>>> DB::connection()->getPdo();")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Si el resultado de la ejecución es parecida a la que se muestra a continuación es que logramos establecer la conexión:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('=> PDO {#3608\n    inTransaction: false,\n    attributes: {\n    CASE: NATURAL,\n    ERRMODE: EXCEPTION,\n    AUTOCOMMIT: 1,\n    PERSISTENT: false,\n    DRIVER_NAME: "mysql",\n    SERVER_INFO: "Uptime: 13883  Threads: 8  Questions: 27672  Slow queries: 0  Opens: 214  Flush tables: 1  Open tables: 9  Queries per second avg: 1.993",\n    ORACLE_NULLS: NATURAL,\n    CLIENT_VERSION: "mysqlnd 7.4.21",\n    SERVER_VERSION: "5.5.5-10.4.18-MariaDB-log",\n    STATEMENT_CLASS: [\n        "PDOStatement",\n    ],\n    EMULATE_PREPARES: 0,\n    CONNECTION_STATUS: "awsejemplo-db.cgfry9dn7zav.us-east-1.rds.amazonaws.com via TCP/IP",\n    DEFAULT_FETCH_MODE: BOTH,\n    },\n}\n')])])])])]),e._v(" "),a("li",[e._v("Salir de tinker:\n"),a("ul",[a("li",[e._v("'>>> Ctrl + C")])])]),e._v(" "),a("li",[e._v("Ejecutar las migraciones en la terminal de AWS:\n"),a("ul",[a("li",[e._v("$ php artisan migrate")])])])]),e._v(" "),a("h3",{attrs:{id:"video-12-fix-configuracion-del-servidor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-12-fix-configuracion-del-servidor"}},[e._v("#")]),e._v(" Video 12. Fix: Configuración del servidor")]),e._v(" "),a("ol",[a("li",[e._v("Ingresar al archivo de configuración de apache en la terminal de AWS:\n"),a("ul",[a("li",[e._v("$ sudo nano /etc/apache2/apache2.conf")])])]),e._v(" "),a("li",[e._v("Comentar las siguientes líneas con #:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# User ${APACHE_RUN_USER}\n# Group ${APACHE_RUN_GROUP}\n")])])])]),e._v(" "),a("li",[e._v("A continuación agregar las líneas:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("User ubuntu\nGroup ubuntu\n")])])])]),e._v(" "),a("li",[e._v("Cambiar el siguiente bloque de códgio:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<Directory /var/www/>\n        Options Indexes FollowSymLinks\n        AllowOverride None\n        Require all granted\n</Directory>\n")])])]),e._v("Por:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<Directory /var/www/>\n        Options Indexes FollowSymLinks\n        AllowOverride All \n        Require all granted\n</Directory>\n")])])])]),e._v(" "),a("li",[e._v("Para guardar los cambios:\n"),a("ul",[a("li",[e._v("$ Ctrl + X")]),e._v(" "),a("li",[e._v("$ y")]),e._v(" "),a("li",[e._v("$ ENTER")])])]),e._v(" "),a("li",[e._v("Habilitar modo rewrite:\n"),a("ul",[a("li",[e._v("$ sudo a2enmod rewrite")])])]),e._v(" "),a("li",[e._v("Reiniciar el servidor de apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 restart")])])]),e._v(" "),a("li",[e._v("Para ver el estatus del servidor apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 status")])])])]),e._v(" "),a("h2",{attrs:{id:"seccion-4-configuracion-de-dominio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seccion-4-configuracion-de-dominio"}},[e._v("#")]),e._v(" Sección 4: Configuración de dominio")]),e._v(" "),a("h3",{attrs:{id:"video-13-servicio-route-53"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-13-servicio-route-53"}},[e._v("#")]),e._v(" Video 13. Servicio Route 53")]),e._v(" "),a("ol",[a("li",[e._v("Crear un dominio con tu servicio de hosting. En mi caso utilizaré GoDaddy:\n"),a("ul",[a("li",[e._v("Ingresar al hosting de GoDaddy:\n"),a("ul",[a("li",[e._v("https://a2plcpnl0082.prod.iad2.secureserver.net:2083/")])])]),e._v(" "),a("li",[e._v("Ir a "),a("strong",[e._v("DOMINIOS")]),e._v(" > "),a("strong",[e._v("Dominios")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("CREATE NEW DOMAIN")]),e._v(".")]),e._v(" "),a("li",[e._v("Introducir un nombre para el dominio:\n"),a("ul",[a("li",[e._v("Nombre: prueba.sefar.com")]),e._v(" "),a("li",[e._v("No seleccionar raíz en el servidor de GoDaddy.")])])]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("ENVIAR")]),e._v(".\n"),a("ul",[a("li",[e._v("Esta operación puede tardar hasta más de 48 horas.")])])])])]),e._v(" "),a("li",[e._v("En la cuenta de AWS ingresar al servico de "),a("strong",[e._v("Route 53")]),e._v(".")]),e._v(" "),a("li",[e._v("Ir a "),a("strong",[e._v("Panel de Route 53")]),e._v(" > "),a("strong",[e._v("Administración de DNS")]),e._v(" y presionar el botón: "),a("strong",[e._v("Crear una zona alojada")]),e._v(".")]),e._v(" "),a("li",[e._v("En el formaulario "),a("strong",[e._v("Crear una zona alojada")]),e._v(" completar los siguientes campos:\n"),a("ul",[a("li",[e._v("Nombre de dominio: prueba.sefar.com")]),e._v(" "),a("li",[e._v("Descripción - opcional: Prueba de alojamiento de un proyecto Laravel 8 en AWS")]),e._v(" "),a("li",[e._v("Tipo: Zona alojada pública")])])]),e._v(" "),a("li",[e._v("Presionar el botón: "),a("strong",[e._v("Crear una zona alojada")]),e._v(".")]),e._v(" "),a("li",[e._v("Copiar los nameservers proporcionandos por AWS en tu proveedor de servicios:\n"),a("ul",[a("li",[e._v("ns-55.awsdns-06.com")]),e._v(" "),a("li",[e._v("ns-1889.awsdns-44.co.uk")]),e._v(" "),a("li",[e._v("ns-792.awsdns-35.net")]),e._v(" "),a("li",[e._v("ns-1087.awsdns-07.org"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("ul",[a("li",[e._v("No añadir el punto final que aparece an la página al final del nameserver.")]),e._v(" "),a("li",[e._v("Este proceso puede tardar hasta 24 horas en verse reflejado.\n"),a("p")])])])])])])]),e._v(" "),a("h3",{attrs:{id:"video-14-implementar-un-certificado-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-14-implementar-un-certificado-ssl"}},[e._v("#")]),e._v(" Video 14. Implementar un certificado SSL")]),e._v(" "),a("ol",[a("li",[e._v("En la cuenta de AWS ir al servicio de AWS "),a("strong",[e._v("Certificate Manager")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Aprovisionar certificados")]),e._v(" presionar el botón "),a("strong",[e._v("Empezar")]),e._v(".")]),e._v(" "),a("li",[e._v("Seleccionar "),a("strong",[e._v("Solicitar un certificado público")]),e._v(" y presionar botón "),a("strong",[e._v("Solicitar un certificado")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Agregar nombres de dominio")]),e._v(" agregar los siguientes nombre:\n"),a("ul",[a("li",[e._v("prueba.sefar.com")]),e._v(" "),a("li",[e._v("www.prueba.sefar.com")]),e._v(" "),a("li",[e._v("*.www.prueba.sefar.com")])])]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Siguiente")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Seleccionar un método de validación")]),e._v(", seleccionar "),a("strong",[e._v("Validación de DNS")]),e._v(" y presionar el botón "),a("strong",[e._v("Siguiente")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Agregar etiquetas")]),e._v(" lo dejamos como está y presionar el botón "),a("strong",[e._v("Revisar")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Revisar")]),e._v(" presionar el botón "),a("strong",[e._v("Confirmar y solicitar")]),e._v(".")]),e._v(" "),a("li",[e._v("En Validación para cada uno de los dominios dar clic en "),a("strong",[e._v("►")]),e._v(" y luego el botón "),a("strong",[e._v("Crear registro en Route 53")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Crear registro en Route 53")]),e._v(" presionar el botón "),a("strong",[e._v("Crear")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"video-15-balanceador-de-carga"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-15-balanceador-de-carga"}},[e._v("#")]),e._v(" Video 15. Balanceador de carga")]),e._v(" "),a("ol",[a("li",[e._v("En la página de AWS ir al servicio "),a("strong",[e._v("EC2")]),e._v(" y "),a("strong",[e._v("Recursos")]),e._v(" seleccionar "),a("strong",[e._v("Balanceadores de carga")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Crear balanceador de carga")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Seleccionar un tipo de balanceador de carga")]),e._v(", seleccionar "),a("strong",[e._v("Balanceador de carga clásico")]),e._v(" (Este balanceador ya está en desuso) y presionar el botón "),a("strong",[e._v("Crear")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Paso 1: Definir el balanceador de carga")]),e._v(" > "),a("strong",[e._v("Configuración básica")]),e._v(" añadir los siguientes registros:\n"),a("ul",[a("li",[e._v("HTTP")]),e._v(" "),a("li",[e._v("HTTPS (HTTP Seguro)")])])]),e._v(" "),a("li",[e._v("Completar el campo "),a("strong",[e._v("Nombre del balanceador de carga:")]),e._v(" awsejemplo-lb y presionar el botón "),a("strong",[e._v("Siguiente: Asignar grupos de seguridad")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Paso 2: Asignar grupos de seguridad")]),e._v(" seleccionar el "),a("strong",[e._v("ID de grupo de seguridad")]),e._v(" que coincide con "),a("strong",[e._v("EC2")]),e._v(" > "),a("strong",[e._v("Instancias")]),e._v(" > "),a("strong",[e._v("i-01f753a2118350336")]),e._v(", luego "),a("strong",[e._v("Seguridad")]),e._v(" y "),a("strong",[e._v("Grupos de seguridad")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar botón "),a("strong",[e._v("Siguiente: Configurar los ajustes de seguridad")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Paso 3: Configurar los ajustes de seguridad")]),e._v(" > "),a("strong",[e._v("Seleccionar certificado")]),e._v(" > "),a("strong",[e._v("Tipo de certificado:")]),e._v(", seleccionar "),a("strong",[e._v("Elegir un certificado de ACM (recomendado)")]),e._v(".")]),e._v(" "),a("li",[e._v("Presionar botón "),a("strong",[e._v("Siguiente: Configurar comprobación de estado")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Step 4: Configure Health Check")]),e._v(", establecer el parámetro "),a("strong",[e._v("Ping Path")]),e._v(": /index.phpn y presionamos en "),a("strong",[e._v("Next: Add EC2 Instances")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Step 5: Add EC2 Instances")]),e._v(" seleccionamos la instancia que estamos trabajando y presionamos en "),a("strong",[e._v("Next: Add Tags")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Step 6: Add Tags")]),e._v(" lo dejamos como está y presionamos en "),a("strong",[e._v("Review and Create")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Step 7: Review")]),e._v(" verificamos los valores y presionamos en "),a("strong",[e._v("Create")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"video-16-anadir-alias-para-el-balanceador"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-16-anadir-alias-para-el-balanceador"}},[e._v("#")]),e._v(" Video 16. Añadir Alias para el balanceador")]),e._v(" "),a("ol",[a("li",[e._v("En AWS ir al servicio de "),a("strong",[e._v("Route 53")]),e._v(", vamos a "),a("strong",[e._v("Zonas hospedadas")]),e._v(" y en "),a("strong",[e._v("Zonas alojadas")]),e._v(" seleccionamos la zona que hemos creado.")]),e._v(" "),a("li",[e._v("Ubicados en "),a("strong",[e._v("Route 53")]),e._v(" > "),a("strong",[e._v("Zonas hospedadas")]),e._v(" > "),a("strong",[e._v("prueba.sefar.com")]),e._v(" presionamos en "),a("strong",[e._v("Crear un registro")]),e._v(".")]),e._v(" "),a("li",[e._v("Para los parámetros del nuevo registro:\n"),a("ul",[a("li",[e._v("Activamos "),a("strong",[e._v("Alias")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Tipo de registro")]),e._v(" seleccionar: "),a("strong",[e._v("A: dirige el tráfico a una dirección IPv4 y algunos recursos de AWS")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Dirigir el tráfico a")]),e._v(" seleccionamos: "),a("strong",[e._v("Alias del Calssic Load Balancer y el de aplicaciones")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Elegir la región")]),e._v(" seleccionar la región en la que esta montado la instancia.")]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Crear registros")]),e._v(".")])])]),e._v(" "),a("li",[e._v("Crear otro registro:")]),e._v(" "),a("li",[e._v("Para los parámetros del nuevo registro:\n"),a("ul",[a("li",[e._v("Activamos "),a("strong",[e._v("Alias")]),e._v(".")]),e._v(" "),a("li",[e._v("Nombre del registro: "),a("strong",[e._v("www")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Tipo de registro")]),e._v(" seleccionar: "),a("strong",[e._v("A: dirige el tráfico a una dirección IPv4 y algunos recursos de AWS")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Dirigir el tráfico a")]),e._v(" seleccionamos: "),a("strong",[e._v("Alias del Calssic Load Balancer y el de aplicaciones")]),e._v(".")]),e._v(" "),a("li",[e._v("En "),a("strong",[e._v("Elegir la región")]),e._v(" seleccionar la región en la que esta montado la instancia.")]),e._v(" "),a("li",[e._v("El registro debe apuntar a nuestro dominio.")]),e._v(" "),a("li",[e._v("Presionar el botón "),a("strong",[e._v("Crear registros")]),e._v(".")])])]),e._v(" "),a("li",[e._v("Crear nuevamente otro registro, igual al paso anterior pero en nombre del registro colocamos *.")])]),e._v(" "),a("h3",{attrs:{id:"video-17-¡el-gran-momento"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-17-¡el-gran-momento"}},[e._v("#")]),e._v(" Video 17. ¡El gran momento!")]),e._v(" "),a("ol",[a("li",[e._v("Ingresa a la terminal y escribe:\n"),a("ul",[a("li",[e._v("$ sudo nano /etc/apache2/sites-enabled/000-default.conf")])])]),e._v(" "),a("li",[e._v("Al editar el archivo anterior añadir las siguientes reglas:\n"),a("ul",[a("li",[e._v("RewriteEngine On")]),e._v(" "),a("li",[e._v("RewriteCond %{HTTP:X-Forwarded-Proto} =http")]),e._v(" "),a("li",[e._v("RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]"),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Nota")]),e._v(" "),a("p",[e._v("Añadir al final del archivo y antes del cierre de ")])])])])]),e._v(" "),a("li",[e._v("Salvar el archivo:\n"),a("ul",[a("li",[e._v("$ Ctrl + X")]),e._v(" "),a("li",[e._v("$ y")]),e._v(" "),a("li",[e._v("$ ENTER")])])]),e._v(" "),a("li",[e._v("Reiniciar el servidor de apache:\n"),a("ul",[a("li",[e._v("$ sudo service apache2 restart")])])])])])}),[],!1,null,null,null);a.default=i.exports}}]);