<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Proyecto App Sefar Universal 2021 (Parte II) | Docs S++</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/petrix12/imagenes2022/main/Soluciones%2B%2B/S%2B%2B.ico">
    <meta name="description" content="Documentación General">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.46e60ca0.css" as="style"><link rel="preload" href="/assets/js/app.5704c221.js" as="script"><link rel="preload" href="/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/assets/js/16.e9847911.js" as="script"><link rel="prefetch" href="/assets/js/10.48929f7d.js"><link rel="prefetch" href="/assets/js/11.1f11ab9d.js"><link rel="prefetch" href="/assets/js/12.d0f387b4.js"><link rel="prefetch" href="/assets/js/13.cbe44f8e.js"><link rel="prefetch" href="/assets/js/14.22625f27.js"><link rel="prefetch" href="/assets/js/15.f2b99dfa.js"><link rel="prefetch" href="/assets/js/17.0b5bff18.js"><link rel="prefetch" href="/assets/js/18.d9651679.js"><link rel="prefetch" href="/assets/js/19.6dc716b2.js"><link rel="prefetch" href="/assets/js/20.cb8293d2.js"><link rel="prefetch" href="/assets/js/21.68edd684.js"><link rel="prefetch" href="/assets/js/22.0031098e.js"><link rel="prefetch" href="/assets/js/23.87172078.js"><link rel="prefetch" href="/assets/js/24.f1343a21.js"><link rel="prefetch" href="/assets/js/25.da22650c.js"><link rel="prefetch" href="/assets/js/26.7f33940a.js"><link rel="prefetch" href="/assets/js/27.9efae1a5.js"><link rel="prefetch" href="/assets/js/28.2dc03b03.js"><link rel="prefetch" href="/assets/js/29.4bf39223.js"><link rel="prefetch" href="/assets/js/3.47fcc030.js"><link rel="prefetch" href="/assets/js/30.afd76793.js"><link rel="prefetch" href="/assets/js/31.367ff43c.js"><link rel="prefetch" href="/assets/js/32.7c9d7092.js"><link rel="prefetch" href="/assets/js/4.97c0910f.js"><link rel="prefetch" href="/assets/js/5.68cab69c.js"><link rel="prefetch" href="/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/assets/js/7.159f2f50.js"><link rel="prefetch" href="/assets/js/8.249413fe.js"><link rel="prefetch" href="/assets/js/9.6a63ad8e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.46e60ca0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Docs S++</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guías
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Doc
</a></div><div class="nav-item"><a href="https://github.com/petrix12" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guías
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Doc
</a></div><div class="nav-item"><a href="https://github.com/petrix12" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Soluciones++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Laravel</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/laravel/sefar2022/sefar2022-P01.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE I)</a></li><li><a href="/guide/laravel/sefar2022/sefar2022-P02.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE II)</a></li><li><a href="/guide/laravel/sefar2022/sefar2022-P03.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE III)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P01.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte I)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P02.html" aria-current="page" class="active sidebar-link">Proyecto App Sefar Universal 2021 (Parte II)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-permisos" class="sidebar-link">CRUD Permisos</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-roles" class="sidebar-link">CRUD Roles</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-usuarios" class="sidebar-link">CRUD Usuarios</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-paises" class="sidebar-link">CRUD Paises</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#seeders-paises" class="sidebar-link">Seeders Paises</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-formatos-extensiones-de-archivos" class="sidebar-link">CRUD Formatos (extensiones de archivos)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#seeders-formatos-extensiones-de-archivos" class="sidebar-link">Seeders Formatos (extensiones de archivos)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-parentescos" class="sidebar-link">CRUD Parentescos</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#seeders-parentesco" class="sidebar-link">Seeders Parentesco</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-lado-del-parentesco" class="sidebar-link">CRUD Lado (del parentesco)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#seeders-lado-del-parentesco" class="sidebar-link">Seeders Lado (del parentesco)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#crud-conexiones-del-parentesco" class="sidebar-link">CRUD Conexiones (del parentesco)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P02.html#seeders-conexiones-del-parentesco" class="sidebar-link">Seeders Conexiones (del parentesco)</a></li></ul></li><li><a href="/guide/laravel/sefar2021/sefar2021-P03.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte III)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P04.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte IV)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P05.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte V)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P06.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte VI)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P07.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte VII)</a></li><li><a href="/guide/laravel/laravel2021/laravel2021.html" class="sidebar-link">Curso Laravel 8 desde cero</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="proyecto-app-sefar-universal-2021-parte-ii"><a href="#proyecto-app-sefar-universal-2021-parte-ii" class="header-anchor">#</a> Proyecto App Sefar Universal 2021 (Parte II)</h1> <ul><li>Versión: <strong>Laravel Framework 8.31.0</strong></li></ul> <h2 id="crud-permisos"><a href="#crud-permisos" class="header-anchor">#</a> CRUD Permisos</h2> <ol><li>Crear grupo de rutas en <strong>routes\web.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Grupo de rutas CRUD</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'auth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'as'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear modelo Permission:
<ul><li>$ php artisan make:model Permission</li></ul></li> <li>Programar modelo Permission <strong>app\Models\Permission.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Models</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Factories<span class="token punctuation">\</span>HasFactory</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Permission</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>
    
    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Crear controlador Permission:
<ul><li>$ php artisan make:controller PermissionController -r</li></ul></li> <li>Programar el controlador Permission <strong>app\Http\Controllers\PermissionController.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Permission</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Role</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Traits<span class="token punctuation">\</span>HasRoles</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">RealRashid<span class="token punctuation">\</span>SweetAlert<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Alert</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">PermissionController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasRoles</span><span class="token punctuation">;</span>
    
    <span class="token comment">/**
    * Display a listing of the resource.
    *
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Show the form for creating a new resource.
    *
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.create'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Store a newly created resource in storage.
    *
    * @param  \Illuminate\Http\Request  $request
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">store</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Validación</span>
        <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|max:254'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Creando permiso</span>
        <span class="token variable">$permission</span> <span class="token operator">=</span> <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Asignando permisos a roles seleccionados</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$roles</span> <span class="token keyword">as</span> <span class="token variable">$role</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;role&quot;</span> <span class="token operator">.</span> <span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token variable">$roles</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">givePermissionTo</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Mensaje </span>
        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Éxito!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha creado el permiso: '</span> <span class="token operator">.</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Redireccionar a la vista index</span>
        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Display the specified resource.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">show</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Permission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.edit'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'permission'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Show the form for editing the specified resource.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">edit</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Permission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.edit'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'permission'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Update the specified resource in storage.
    *
    * @param  \Illuminate\Http\Request  $request
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Permission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Validación</span>
        <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|max:254'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// actualizando permiso</span>
        <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
        <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Actualizando permisos a roles seleccionados</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$roles</span> <span class="token keyword">as</span> <span class="token variable">$role</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;role&quot;</span> <span class="token operator">.</span> <span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token variable">$roles</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">givePermissionTo</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token variable">$roles</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">revokePermissionTo</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Mensaje </span>
        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Éxito!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha actualizado el permiso a: '</span> <span class="token operator">.</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Redireccionar a la vista index</span>
        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Remove the specified resource from storage.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">destroy</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Permission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$nombre</span> <span class="token operator">=</span> <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
        
        <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Advertencia!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha eliminado el permiso: '</span> <span class="token operator">.</span> <span class="token variable">$nombre</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Agregar ruta de permisos al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code>	<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'permissions'</span><span class="token punctuation">,</span> <span class="token class-name static-context">PermissionController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'permissions'</span><span class="token punctuation">)</span>
		<span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.permissions.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>PermissionController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Permissions:
<ul><li>$ php artisan make:livewire crud/permissions-table</li></ul></li> <li>Programar controlador para la tabla Permissions: <strong>app\Http\Livewire\Crud\PermissionsTable.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Livewire<span class="token punctuation">\</span>Crud</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Livewire<span class="token punctuation">\</span>WithPagination</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Permission</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Livewire<span class="token punctuation">\</span>Component</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">PermissionsTable</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">WithPagination</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$queryString</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'search'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'except'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'perPage'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'except'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'5'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token variable">$search</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$perPage</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'5'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'livewire.crud.permissions-table'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'permissions'</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'LIKE'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;%<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span></span>%&quot;</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'updated_at'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'DESC'</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">paginate</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">perPage</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">page</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">perPage</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'5'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Diseñar vista para la tabla Permissions: <strong>resources\views\livewire\crud\permissions-table.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;flex flex-col&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8&quot;</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">--</span> Inicio <span class="token operator">--</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;bg-gray-50&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:py-6 lg:px-8 lg:flex lg:items-center lg:justify-between&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;ctvSefar block text-indigo-600&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'User permissions'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
                        @<span class="token function">can</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.create'</span><span class="token punctuation">)</span>
                        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;mt-8 flex lg:mt-0 lg:flex-shrink-0&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;inline-flex rounded-md shadow&quot;</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ route('crud.permissions.create') }}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;cfrSefar inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700&quot;</span><span class="token operator">&gt;</span>
                                    <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Create permission'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        @endcan
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">--</span> Fin <span class="token operator">--</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;flex flex-col&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;shadow overflow-hidden border-b border-gray-200 sm:rounded-lg&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;flex bg-white px-4 py-3 sm:px-6&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input 
                            wire<span class="token punctuation">:</span>model<span class="token operator">=</span><span class="token string double-quoted-string">&quot;search&quot;</span>
                            type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;text&quot;</span> 
                            placeholder<span class="token operator">=</span><span class="token string double-quoted-string">&quot;Buscar...&quot;</span> 
                            <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;mr-2 mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md&quot;</span>
                            <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">--</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;form-input rounded-md shadow-sm mt-1 block w-full&quot;</span> <span class="token operator">--</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
                        <span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;col-span-6 sm:col-span-3&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>select wire<span class="token punctuation">:</span>model<span class="token operator">=</span><span class="token string double-quoted-string">&quot;perPage&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;py-2 px-2 mt-1 mr-10 block w-full border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm&quot;</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;5&quot;</span><span class="token operator">&gt;</span><span class="token number">5</span> por pág<span class="token operator">.</span> <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;10&quot;</span><span class="token operator">&gt;</span><span class="token number">10</span> por pág<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;15&quot;</span><span class="token operator">&gt;</span><span class="token number">15</span> por pág<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;25&quot;</span><span class="token operator">&gt;</span><span class="token number">25</span> por pág<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;50&quot;</span><span class="token operator">&gt;</span><span class="token number">50</span> por pág<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;100&quot;</span><span class="token operator">&gt;</span><span class="token number">100</span> por pág<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                        @<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$search</span> <span class="token operator">!==</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span>
                        <span class="token operator">&lt;</span>button wire<span class="token punctuation">:</span>click<span class="token operator">=</span><span class="token string double-quoted-string">&quot;clear&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;py-1 px-2 mt-1 ml-2 border border-transparent rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;far fa-window-close&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                        @<span class="token keyword">endif</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    @<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$permissions</span><span class="token operator">-&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token operator">&lt;</span>table <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;min-w-full divide-y divide-gray-200&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>thead <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;bg-gray-50&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string double-quoted-string">&quot;col&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;</span><span class="token operator">&gt;</span>
                                <span class="token constant">ID</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string double-quoted-string">&quot;col&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;</span><span class="token operator">&gt;</span>
                                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Permission'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
                            @<span class="token function">can</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.edit'</span><span class="token punctuation">)</span>
                            <span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string double-quoted-string">&quot;col&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-9 y-2 text-xs font-medium text-gray-500 uppercase tracking-wider text-right&quot;</span><span class="token operator">&gt;</span>
                                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Edit'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
                            @endcan
                            @<span class="token function">can</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.destroy'</span><span class="token punctuation">)</span>
                            <span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string double-quoted-string">&quot;col&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider text-right&quot;</span><span class="token operator">&gt;</span>
                                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Remove'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
                            @endcan
                        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>tbody <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;bg-white divide-y divide-gray-200&quot;</span><span class="token operator">&gt;</span>
                        @<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$permissions</span> <span class="token keyword">as</span> <span class="token variable">$permission</span><span class="token punctuation">)</span>
                        <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>   
                            <span class="token operator">&lt;</span>td <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-6 py-2 whitespace-nowrap&quot;</span><span class="token operator">&gt;</span>
                                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">id</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>td <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-6 py-2 whitespace-nowrap&quot;</span><span class="token operator">&gt;</span>
                                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
                            @<span class="token function">can</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.edit'</span><span class="token punctuation">)</span>
                            <span class="token operator">&lt;</span>td <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;py-2 whitespace-nowrap text-right font-medium&quot;</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ route('crud.permissions.edit', <span class="token interpolation"><span class="token variable">$permission</span></span>) }}&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;mx-12 text-grey-600 hover:text-indigo-900&quot;</span> title<span class="token operator">=</span><span class="token string double-quoted-string">&quot;Editar&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;fas fa-edit&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
                            @endcan
                            @<span class="token function">can</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.permissions.destroy'</span><span class="token punctuation">)</span>
                            <span class="token operator">&lt;</span>td <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;px-3 py-2 whitespace-nowrap text-right font-medium&quot;</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ route('crud.permissions.destroy', <span class="token interpolation"><span class="token variable">$permission</span></span>) }}&quot;</span> method<span class="token operator">=</span><span class="token string double-quoted-string">&quot;POST&quot;</span><span class="token operator">&gt;</span>
                                    @csrf
                                    @<span class="token function">method</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'delete'</span><span class="token punctuation">)</span>
                                    <span class="token operator">&lt;</span>button 
                                        type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;submit&quot;</span> 
                                        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;text-red-600 hover:text-red-900&quot;</span> 
                                        onclick<span class="token operator">=</span><span class="token string double-quoted-string">&quot;return confirm('¿Está seguro que desea eliminar el permiso?')&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;fas fa-trash&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
                                    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
                            @endcan
                        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
                        @<span class="token keyword">endforeach</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;bg-white px-4 py-3 border-t border-gray-200 sm:px-6&quot;</span><span class="token operator">&gt;</span>
                    <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$permissions</span><span class="token operator">-&gt;</span><span class="token function">links</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    @<span class="token keyword">else</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;bg-white px-4 py-3 border-t border-gray-200 sm:px-6 text-gray-500&quot;</span><span class="token operator">&gt;</span>
                        No hay resultado para la búsqueda <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$search</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> en la página <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$page</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> al mostrar <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">$perPage</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> por página
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    @<span class="token keyword">endif</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>    
</code></pre></div></li> <li>Diseñar las vistas para el CRUD Permisos:
<ul><li>resources\views\crud\permissions\index.blade.php</li> <li>resources\views\crud\permissions\create.blade.php</li> <li>resources\views\crud\permissions\edit.blade.php</li></ul></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Permisos&quot;</li></ul></li></ol> <h2 id="crud-roles"><a href="#crud-roles" class="header-anchor">#</a> CRUD Roles</h2> <ol><li>Crear modelo Role:
<ul><li>$ php artisan make:model Role</li></ul></li> <li>Programar modelo Role <strong>app\Models\Role.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Models</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Factories<span class="token punctuation">\</span>HasFactory</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Role</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Crear controlador Role:
<ul><li>$ php artisan make:controller RoleController -r</li></ul></li> <li>Programar el controlador Role <strong>app\Http\Controllers\RoleController.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Agregar ruta de roles al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'roles'</span><span class="token punctuation">,</span> <span class="token class-name static-context">RoleController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.roles.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>RoleController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Roles:
<ul><li>$ php artisan make:livewire crud/roles-table</li></ul></li> <li>Programar controlador para la tabla Roles: <strong>app\Http\Livewire\Crud\RolesTable.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar vista para la tabla Roles <strong>resources\views\livewire\crud\roles-table.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Programar controlador Role: <strong>app\Http\Controllers\RoleController.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar las vistas para el CRUD Roles:
<ul><li>resources\views\crud\roles\index.blade.php</li> <li>resources\views\crud\roles\create.blade.php</li> <li>resources\views\crud\roles\edit.blade.php</li></ul></li> <li>Realizar commit --:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Roles&quot;</li></ul></li></ol> <h2 id="crud-usuarios"><a href="#crud-usuarios" class="header-anchor">#</a> CRUD Usuarios</h2> <ol><li>Agregar el campo <strong>passport</strong> como campo de asignación masiva en el modelo <strong>User</strong>: <strong>app\Models\User.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'email'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'password'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'passport'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
≡
</code></pre></div></li> <li>Crear controlador User:
<ul><li>$ php artisan make:controller UserController -r</li></ul></li> <li>Programar el controlador User <strong>app\Http\Controllers\UserController.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>User</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Permission</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Role</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Spatie<span class="token punctuation">\</span>Permission<span class="token punctuation">\</span>Traits<span class="token punctuation">\</span>HasRoles</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">RealRashid<span class="token punctuation">\</span>SweetAlert<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Alert</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UserController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Display a listing of the resource.
    *
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Show the form for creating a new resource.
    *
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* $permissions = Permission::all(); */</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.create'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Store a newly created resource in storage.
    *
    * @param  \Illuminate\Http\Request  $request
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">store</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Validación</span>
        <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|max:254'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'passport'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'nullable|unique:users,passport'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|unique:users,email'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Creando usuario</span>
        <span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">email</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'passport'</span> <span class="token operator">=&gt;</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">passport</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'password'</span> <span class="token operator">=&gt;</span> <span class="token function">bcrypt</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'sefar2021'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'password_md5'</span> <span class="token operator">=&gt;</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'sefar2021'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'email_verified_at'</span> <span class="token operator">=&gt;</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Asignando roles seleccionados</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$roles</span> <span class="token keyword">as</span> <span class="token variable">$role</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;role&quot;</span> <span class="token operator">.</span> <span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">assignRole</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// Mensaje </span>
        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Éxito!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha creado el usuario: '</span> <span class="token operator">.</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Redireccionar a la vista index</span>
        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Display the specified resource.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">show</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.edit'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'user'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'roles'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Show the form for editing the specified resource.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">edit</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$permissions</span> <span class="token operator">=</span> <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.edit'</span><span class="token punctuation">,</span> <span class="token function">compact</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'user'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'roles'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'permissions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Update the specified resource in storage.
    *
    * @param  \Illuminate\Http\Request  $request
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//dd($request-&gt;passport);</span>
        <span class="token comment">// Validación</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_null</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">passport</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|max:254'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'email|required|unique:users,email,'</span><span class="token operator">.</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">id</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|max:254'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'passport'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'unique:users,passport,'</span><span class="token operator">.</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'email|required|unique:users,email,'</span><span class="token operator">.</span><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">id</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Actualizando usuario</span>
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">email</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">email</span><span class="token punctuation">;</span>
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">passport</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">passport</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token function">bcrypt</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">password_md5</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
            
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Actualizando los roles del usuario</span>
        <span class="token variable">$roles</span> <span class="token operator">=</span> <span class="token class-name static-context">Role</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$roles</span> <span class="token keyword">as</span> <span class="token variable">$role</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;role&quot;</span> <span class="token operator">.</span> <span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">assignRole</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">removeRole</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Actualizando los permisos del usuario</span>
        <span class="token variable">$permissions</span> <span class="token operator">=</span> <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$permissions</span> <span class="token keyword">as</span> <span class="token variable">$permission</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;permiso&quot;</span> <span class="token operator">.</span> <span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">givePermissionTo</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">revokePermissionTo</span><span class="token punctuation">(</span><span class="token variable">$permission</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Mensaje </span>
        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Éxito!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha actualizado el usuario: '</span> <span class="token operator">.</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Redireccionar a la vista index</span>
        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
    * Remove the specified resource from storage.
    *
    * @param  int  $id
    * @return \Illuminate\Http\Response
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">destroy</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$nombre</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
        
        <span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'¡Advertencia!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Se ha eliminado el usuario: '</span> <span class="token operator">.</span> <span class="token variable">$nombre</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'crud.users.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</span></code></pre></div></li> <li>Agregar ruta de usuarios al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'users'</span><span class="token punctuation">,</span> <span class="token class-name static-context">UserController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'users'</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.users.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>UserController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Users:
<ul><li>$ php artisan make:livewire crud/users-table</li></ul></li> <li>Programar controlador para la tabla Users: <strong>app\Http\Livewire\Crud\UsersTable.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Livewire<span class="token punctuation">\</span>Crud</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Livewire<span class="token punctuation">\</span>WithPagination</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>User</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Livewire<span class="token punctuation">\</span>Component</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UsersTable</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">WithPagination</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$queryString</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'search'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'except'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'perPage'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'except'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'10'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token variable">$search</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token variable">$perPage</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'10'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'livewire.crud.users-table'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'users'</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'LIKE'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;%<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span></span>%&quot;</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">orWhere</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'LIKE'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;%<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span></span>%&quot;</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">orWhere</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'passport'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'LIKE'</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;%<span class="token interpolation"><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span></span>%&quot;</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'updated_at'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'DESC'</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">paginate</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">perPage</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">search</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">page</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">perPage</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'10'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Diseñar vista para la tabla Users: <strong>resources\views\livewire\crud\users-table.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar las vistas para el CRUD Usuarios:
<ul><li>resources\views\crud\users\index.blade.php</li> <li>resources\views\crud\users\create.blade.php</li> <li>resources\views\crud\users\edit.blade.php</li></ul></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Usuarios&quot;</li></ul></li></ol> <h2 id="crud-paises"><a href="#crud-paises" class="header-anchor">#</a> CRUD Paises</h2> <ol><li>Crear modelo Country junto con su migración y controlador y los métodos para el CRUD.
<ul><li>php artisan make:model Country -m -c -r</li></ul></li> <li>Preparar migración para la tabla <strong>countries</strong> en <strong>database\migrations\2021_03_08_173429_create_permission_tables.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'countries'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pais'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'store'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Establecer permisos en los seeders para el CRUD Paises en <strong>database\seeders\RoleSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡ 
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡        
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.countries.index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.countries.create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.countries.edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.countries.destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ≡
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Reestablecer base de datos:
<ul><li>$ php artisan migrate:fresh --seed</li></ul></li> <li>Configurar modelo <strong>Country</strong> en <strong>app\Models\Country.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Country</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'pais'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'store'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Agregar ruta de paises al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'countries'</span><span class="token punctuation">,</span> <span class="token class-name static-context">CountryController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'countries'</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.countries.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>CountryController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Countries:
<ul><li>$ php artisan make:livewire crud/countries-table</li></ul></li> <li>Programar controlador para la tabla Countries: <strong>app\Http\Livewire\Crud\CountriesTable.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar vista para la tabla Country: <strong>resources\views\livewire\crud\countries-table.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Programar controlador Country: <strong>app\Http\Controllers\CountryController.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar las vistas para el CRUD Paises:
<ul><li>resources\views\crud\countries\index.blade.php</li> <li>resources\views\crud\countries\create.blade.php</li> <li>resources\views\crud\countries\edit.blade.php</li></ul></li> <li>Editar <strong>config\adminlte.php</strong> para añadir los menú para ingresar al CRUD Paises.<div class="language-php extra-class"><pre class="language-php"><code><span class="token string single-quoted-string">'menu'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    ≡

    <span class="token comment">/* *** ACCESOS *** */</span>
    ≡

    <span class="token comment">/* *** MENÚ PARA GENEALOGISTAS E INVESTIGADORES *** */</span>
    ≡

    <span class="token comment">/* *** REGISTROS ONIDEX, DIEX Y MAISANTA *** */</span>
    ≡

    <span class="token comment">/* *** MENÚ PARA DOCUMENTALISTAS *** */</span>
    ≡

    <span class="token comment">/* *** TABLAS GENERALES *** */</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'text'</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tablas Generales'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'icon'</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fas fa-table'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'icon_color'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'white'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'can'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'administrador'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'submenu'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'text'</span>          <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Paises'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'icon'</span>          <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fas fa-flag'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'icon_color'</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'white'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'route'</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.countries.index'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'can'</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'administrador'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            ≡
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/* *** CLIENTES *** */</span>
    ≡
    
    <span class="token comment">/* *** PRUEBAS *** */</span>
    ≡
<span class="token punctuation">]</span><span class="token punctuation">,</span>    
</code></pre></div></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Paises&quot;</li></ul></li></ol> <h2 id="seeders-paises"><a href="#seeders-paises" class="header-anchor">#</a> Seeders Paises</h2> <ol><li>Crear seeder para countries:
<ul><li>$ php artisan make:seeder CountrySeeder</li></ul></li> <li>Añadir a cabecera de <strong>database\seeders\CountrySeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Country</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Modificar el método <strong>run</strong> de <strong>database\seeders\CountrySeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Database<span class="token punctuation">\</span>Seeders</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Seeder</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Country</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">CountrySeeder</span> <span class="token keyword">extends</span> <span class="token class-name">Seeder</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
    * Run the database seeds.
    *
    * @return void
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'aanull'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\aanull.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Alemania'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Alemania.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Argentina'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Argentina.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Australia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Australia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bolivia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Bolivia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Brasil'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Brasil.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bélgica'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Bélgica.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Canadá'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Canadá.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Chile'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Chile.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Colombia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Colombia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Costa Rica'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Costa Rica.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Cuba'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Cuba.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Curazao'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Curazao.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Ecuador'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Ecuador.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'EEUU'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\EEUU.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'El Salvador'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\El Salvador.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Emiratos Arabes Unidos'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Emiratos Arabes Unidos.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'España'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\España.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Francia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Francia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Holanda'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Holanda.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Inglaterra'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Inglaterra.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Italia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Italia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Líbano'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Líbano.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'México'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\México.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Nicaragua'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Nicaragua.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Panamá'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Panamá.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Perú'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Perú.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Puerto Rico'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Puerto Rico.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'República Dominicana'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\República Dominicana.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Suecia'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Suecia.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name static-context">Country</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pais'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Venezuela'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'store'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\paises\Venezuela.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Añadir al método run de <strong>database\seeders\DatabaseSeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name static-context">CountrySeeder</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Crear directorio <strong>storage\app\public\imagenes\paises</strong> y guardar la imagenes de los paises iniciales en formato png y en baja resolución.</li> <li>Ejecutar:
<ul><li>$ php artisan migrate:fresh --seed</li></ul> <div class="custom-block tip"><p class="custom-block-title">Nota</p> <p>Para correr los seeder sin resetear la base de datos:</p> <ul><li>$ php artisan db:seed
<p></p></li></ul></div></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Seeder Paises&quot;</li></ul></li></ol> <h2 id="crud-formatos-extensiones-de-archivos"><a href="#crud-formatos-extensiones-de-archivos" class="header-anchor">#</a> CRUD Formatos (extensiones de archivos)</h2> <ol><li>Crear modelo Format junto con su migración y controlador y los métodos para el CRUD:
<ul><li>$ php artisan make:model Format -m -c -r</li></ul></li> <li>Preparar migración para la tabla <strong>formats</strong> en <strong>database\migrations\2021_04_12_190642_create_formats_table.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'formats'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'formato'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ubicacion'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Establecer permisos en los seeders para el CRUD Formatos en <strong>database\seeders\RoleSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡ 
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡        
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.formats.index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.formats.create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.formats.edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.formats.destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ≡
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Reestablecer base de datos:
<ul><li>$ php artisan migrate:fresh --seed</li></ul></li> <li>Configurar modelo <strong>Format</strong> en <strong>app\Models\Format.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Format</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'formato'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'ubicacion'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Agregar ruta de formatos al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'formats'</span><span class="token punctuation">,</span> <span class="token class-name static-context">FormatController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'formats'</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.formats.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>FormatController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Formats:
<ul><li>$ php artisan make:livewire crud/formats-table</li></ul></li> <li>Programar controlador para la tabla Formats: <strong>app\Http\Livewire\Crud\FormatsTable.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar vista para la tabla Formats: <strong>resources\views\livewire\crud\formats-table.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Programar controlador Formats: <strong>app\Http\Controllers\FormatController.php</strong><div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Diseñar las vistas para el CRUD Formatos:
<ul><li>resources\views\crud\formats\index.blade.php</li> <li>resources\views\crud\formats\create.blade.php</li> <li>resources\views\crud\formats\edit.blade.php</li></ul></li> <li>Editar <strong>config\adminlte.php</strong> para añadir los menú para ingresar al CRUD Formatos.<div class="language-php extra-class"><pre class="language-php"><code></code></pre></div></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Formatos&quot;</li></ul></li></ol> <h2 id="seeders-formatos-extensiones-de-archivos"><a href="#seeders-formatos-extensiones-de-archivos" class="header-anchor">#</a> Seeders Formatos (extensiones de archivos)</h2> <ol><li>Crear seeder para formats:
<ul><li>$ php artisan make:seeder FormatSeeder</li></ul></li> <li>Añadir a cabecera de <strong>database\seeders\FormatSeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Format</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Modificar el método <strong>run</strong> de <strong>database\seeders\FormatSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'DOC'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\DOC.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'DOCX'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\DOCX.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'FP7'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\FP7.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'FTMB'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\FTMB.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'JPG'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\JPG.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'LNK'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\LNK.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'MDB'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\MDB.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'PDF'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\PDF.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Varios'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\Varios.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Format</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'formato'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'XLSX'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'ubicacion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'imagenes\formatos\XLSX.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
<span class="token punctuation">}</span>
≡ 
</code></pre></div></li> <li>Añadir al método run de <strong>database\seeders\DatabaseSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name static-context">FormatSeeder</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Crear directorio <strong>storage\app\public\imagenes\formatos</strong> y guardar la imagenes de los formatos iniciales en formato <strong>png</strong> y en baja resolución.</li> <li>Ejecutar:
<ul><li>$ php artisan migrate:fresh --seed</li></ul> <div class="custom-block tip"><p class="custom-block-title">Nota</p> <p>Para correr los seeder sin resetear la base de datos:</p> <ul><li>$ php artisan db:seed
<p></p></li></ul></div></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Seeder Formatos&quot;</li></ul></li></ol> <h2 id="crud-parentescos"><a href="#crud-parentescos" class="header-anchor">#</a> CRUD Parentescos</h2> <ol><li>Crear modelo Parentesco junto con su migración y controlador y los métodos para el CRUD.
<ul><li>$ php artisan make:model Parentesco -m -c -r</li></ul></li> <li>Preparar migración para la tabla <strong>parentescos</strong> en <strong>database\migrations\2021_03_30_013140_create_parentescos_table.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'parentescos'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Parentesco'</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Inverso'</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Establecer permisos en los seeders para el CRUD Paises en <strong>database\seeders\RoleSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡ 
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡        
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.parentescos.index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.parentescos.create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.parentescos.edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.parentescos.destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ≡
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Reestablecer base de datos:
<ul><li>$ php artisan migrate:fresh --seed</li></ul></li> <li>Configurar modelo <strong>Parentesco</strong> en <strong>app\Models\Parentesco.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Parentesco</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'Parentesco'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Inverso'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Agregar ruta de parentesco al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'parentescos'</span><span class="token punctuation">,</span> <span class="token class-name static-context">ParentescoController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'parentescos'</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.parentescos.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Nota: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>ParentescoController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Parentescos:
<ul><li>$ php artisan make:livewire crud/parentescos-table</li></ul></li> <li>Programar controlador para la tabla Parentescos: <strong>app\Http\Livewire\Crud\ParentescosTable.php</strong>:
<ul><li>Ver código en el respositorio.</li></ul></li> <li>Diseñar vista para la tabla Parentescos: <strong>resources\views\livewire\crud\parentescos-table.blade.php</strong>:
<ul><li>Ver código en el respositorio.</li></ul></li> <li>Programar controlador Parentesco: <strong>app\Http\Controllers\ParentescoController.php</strong>:
<ul><li>Ver código en el respositorio.</li></ul></li> <li>Diseñar las vistas para el CRUD Parentescos:
<ul><li>resources\views\crud\parentescos\index.blade.php</li> <li>resources\views\crud\parentescos\create.blade.php</li> <li>resources\views\crud\parentescos\edit.blade.php</li></ul></li> <li>Editar <strong>config\adminlte.php</strong> para añadir los menú para ingresar al CRUD Parentescos:
<ul><li>Ver código en el respositorio.</li></ul></li> <li>Realizar commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Parentescos&quot;</li></ul></li></ol> <h2 id="seeders-parentesco"><a href="#seeders-parentesco" class="header-anchor">#</a> Seeders Parentesco</h2> <ol><li>Crear seeder para parentescos:
<ul><li>$ php artisan make:seeder ParentescoSeeder</li></ul></li> <li>Añadir a cabecera de <strong>database\seeders\ParentescoSeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Parentesco</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Modificar el método <strong>run</strong> de <strong>database\seeders\ParentescoSeeder.php</strong>:
<ul><li>Ver código en el respositorio.</li></ul></li> <li>Añadir al método run de <strong>database\seeders\DatabaseSeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name static-context">ParentescoSeeder</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Ejecutar:
<ul><li>$ php artisan migrate:fresh --seed</li> <li><strong>Nota</strong>: Para correr los seeder sin resetear la base de datos:
<ul><li>$ php artisan db:seed</li></ul></li></ul></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Seeder Parentescos&quot;</li></ul></li></ol> <h2 id="crud-lado-del-parentesco"><a href="#crud-lado-del-parentesco" class="header-anchor">#</a> CRUD Lado (del parentesco)</h2> <ol><li>Crear modelo Lado junto con su migración y controlador y los métodos para el CRUD:
<ul><li>$ php artisan make:model Lado -m -c -r</li></ul></li> <li>Preparar migración para la tabla <strong>lados</strong> en <strong>database\migrations\2021_03_30_013140_create_parentescos_table.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lados'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Lado'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Significado'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Establecer permisos en los seeders para el CRUD Paises en <strong>database\seeders\RoleSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡ 
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡        
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.lados.index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.lados.create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.lados.edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.lados.destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ≡
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Reestablecer base de datos:
<ul><li>$ php artisan migrate:fresh --seed</li></ul></li> <li>Configurar modelo <strong>Lado</strong> en <strong>app\Models\Parentesco.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Lado</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'Lado'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Significado'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Agregar ruta lados al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lados'</span><span class="token punctuation">,</span> <span class="token class-name static-context">LadoController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lados'</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.lados.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Nota</strong>: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>LadoController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Lados:
<ul><li>$ php artisan make:livewire crud/lados-table</li></ul></li> <li>Programar controlador para la tabla Lados: <strong>app\Http\Livewire\Crud\LadosTable.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Diseñar vista para la tabla Lados: <strong>resources\views\livewire\crud\lados-table.blade.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Programar controlador Lado: <strong>app\Http\Controllers\LadoController.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Diseñar las vistas para el CRUD Lados:
<ul><li>resources\views\crud\lados\index.blade.php</li> <li>resources\views\crud\lados\create.blade.php</li> <li>resources\views\crud\lados\edit.blade.php</li></ul></li> <li>Editar <strong>config\adminlte.php</strong> para añadir los menú para ingresar al CRUD Lados:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Lados&quot;</li></ul></li></ol> <h2 id="seeders-lado-del-parentesco"><a href="#seeders-lado-del-parentesco" class="header-anchor">#</a> Seeders Lado (del parentesco)</h2> <ol><li>Crear seeder para lados:
<ul><li>$ php artisan make:seeder LadoSeeder</li></ul></li> <li>Añadir a cabecera de <strong>database\seeders\LadoSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Lado</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Modificar el método <strong>run</strong> de <strong>database\seeders\LadoSeeder.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Añadir al método run de <strong>database\seeders\DatabaseSeeder.php</strong><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name static-context">LadoSeeder</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Ejecutar:
<ul><li>$ php artisan migrate:fresh --seed</li> <li><strong>Nota</strong>: Para correr los seeder sin resetear la base de datos:
<ul><li>$ php artisan db:seed</li></ul></li></ul></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Seeder Lados&quot;</li></ul></li></ol> <h2 id="crud-conexiones-del-parentesco"><a href="#crud-conexiones-del-parentesco" class="header-anchor">#</a> CRUD Conexiones (del parentesco)</h2> <ol><li>Crear modelo Connection junto con su migración y controlador y los métodos para el CRUD:
<ul><li>$ php artisan make:model Connection -m -c -r</li></ul></li> <li>Preparar migración para la tabla <strong>connections</strong> en <strong>database\migrations\2021_03_31_003009_create_connections_table.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'connections'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Conexion'</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Significado'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Establecer permisos en los seeders para el CRUD Paises en <strong>database\seeders\RoleSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡ 
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡        
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.connections.index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.connections.create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.connections.edit'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">,</span> <span class="token variable">$rolGenealogista</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Permission</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crud.connections.destroy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">syncRoles</span><span class="token punctuation">(</span><span class="token variable">$rolAdministrador</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ≡
<span class="token punctuation">}</span>
≡
</code></pre></div></li> <li>Reestablecer base de datos:
<ul><li>$ php artisan migrate:fresh --seed</li></ul></li> <li>Configurar modelo <strong>Connection</strong> en <strong>app\Models\Parentesco.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token keyword">class</span> <span class="token class-name-definition class-name">Connection</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasFactory</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'Conexion'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Significado'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Agregar ruta connections al grupo de rutas CRUD:<div class="language-php extra-class"><pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'connections'</span><span class="token punctuation">,</span> <span class="token class-name static-context">ConnectionController</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'connections'</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'can:crud.connections.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Nota</strong>: añadir a la cabecera:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers<span class="token punctuation">\</span>ConnectionController</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Crear componente Livewire para Tabla Connections:
<ul><li>$ php artisan make:livewire crud/connections-table</li></ul></li> <li>Programar controlador para la tabla Connections: <strong>app\Http\Livewire\Crud\ConnectionsTable.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Diseñar vista para la tabla Connections: <strong>resources\views\livewire\crud\connections-table.blade.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Programar controlador Connection: <strong>app\Http\Controllers\ConnectionController.php</strong>:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Diseñar las vistas para el CRUD Connections:
<ul><li>resources\views\crud\connections\index.blade.php</li> <li>resources\views\crud\connections\create.blade.php</li> <li>resources\views\crud\connections\edit.blade.php</li></ul></li> <li>Editar <strong>config\adminlte.php</strong> para añadir los menú para ingresar al CRUD Conexiones:
<ul><li>Ver código en el repositorio.</li></ul></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;CRUD Conexiones&quot;</li></ul></li></ol> <h2 id="seeders-conexiones-del-parentesco"><a href="#seeders-conexiones-del-parentesco" class="header-anchor">#</a> Seeders Conexiones (del parentesco)</h2> <ol><li>Crear seeder para conexiones:
<ul><li>$ php artisan make:seeder ConnectionSeeder</li></ul></li> <li>Añadir a cabecera de <strong>database\seeders\ConnectionSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Connection</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Modificar el método <strong>run</strong> de <strong>database\seeders\ConnectionSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'PM'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Padre y Madre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'P'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Padre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'M'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Madre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'APO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Abuelo Paterno'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'APA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Abuela Paterna'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Abuelo Materno'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Abuela Materna'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BPPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuelo PP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BPPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuela PP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BPMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuelo PM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BPMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuela PM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BMPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuelo MP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BMPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuela MP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BMMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuelo MM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'BMMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Bisabuela MM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPPPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo PPP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPPPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela PPP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPPMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo PPM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPPMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela PPM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPMPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo PMP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPMPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela PMP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPMMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo PMM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TPMMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela PMM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMPPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo MPP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMPPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela MPP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMPMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo MPM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMPMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela MPM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMMPO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo MMP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMMPA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela MMP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMMMO'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuelo MMM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TMMMA'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Tatarubuela MMM'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'C'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Cónyuge'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name static-context">Connection</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Conexion'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'ND'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'Significado'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'No determinado'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Añadir al método run de <strong>database\seeders\DatabaseSeeder.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ≡
    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name static-context">ConnectionSeeder</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Ejecutar:
<ul><li>$ php artisan migrate:fresh --seed</li> <li><strong>Nota</strong>: Para correr los seeder sin resetear la base de datos:
<ul><li>$ php artisan db:seed</li></ul></li></ul></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Seeder Conexiones&quot;</li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/laravel/sefar2021/sefar2021-P01.html" class="prev">
        Proyecto App Sefar Universal 2021 (Parte I)
      </a></span> <span class="next"><a href="/guide/laravel/sefar2021/sefar2021-P03.html">
        Proyecto App Sefar Universal 2021 (Parte III)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5704c221.js" defer></script><script src="/assets/js/2.63c13255.js" defer></script><script src="/assets/js/16.e9847911.js" defer></script>
  </body>
</html>
