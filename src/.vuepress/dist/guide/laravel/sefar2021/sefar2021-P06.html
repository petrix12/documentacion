<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Proyecto App Sefar Universal 2021 (Parte VI) | Docs S++</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/petrix12/imagenes2022/main/Soluciones%2B%2B/S%2B%2B.ico">
    <meta name="description" content="Documentación General">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.73d0500b.css" as="style"><link rel="preload" href="/assets/js/app.99e194c4.js" as="script"><link rel="preload" href="/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/assets/js/25.0906d804.js" as="script"><link rel="prefetch" href="/assets/js/10.30d6fda3.js"><link rel="prefetch" href="/assets/js/11.39f71485.js"><link rel="prefetch" href="/assets/js/12.b1d220f7.js"><link rel="prefetch" href="/assets/js/13.32652b16.js"><link rel="prefetch" href="/assets/js/14.bc603a87.js"><link rel="prefetch" href="/assets/js/15.ca5eb4d6.js"><link rel="prefetch" href="/assets/js/16.999fee66.js"><link rel="prefetch" href="/assets/js/17.8be46701.js"><link rel="prefetch" href="/assets/js/18.f888f43e.js"><link rel="prefetch" href="/assets/js/19.cfc5651c.js"><link rel="prefetch" href="/assets/js/20.c0b3f6b7.js"><link rel="prefetch" href="/assets/js/21.67b3029d.js"><link rel="prefetch" href="/assets/js/22.216618b4.js"><link rel="prefetch" href="/assets/js/23.be205c22.js"><link rel="prefetch" href="/assets/js/24.5eb8f2a1.js"><link rel="prefetch" href="/assets/js/26.51cd84d9.js"><link rel="prefetch" href="/assets/js/27.263599a1.js"><link rel="prefetch" href="/assets/js/28.a4a70a41.js"><link rel="prefetch" href="/assets/js/29.eb1991da.js"><link rel="prefetch" href="/assets/js/3.8f343ae9.js"><link rel="prefetch" href="/assets/js/30.3127a39f.js"><link rel="prefetch" href="/assets/js/31.1235f033.js"><link rel="prefetch" href="/assets/js/32.1136ffd3.js"><link rel="prefetch" href="/assets/js/33.fe324fa6.js"><link rel="prefetch" href="/assets/js/34.0afad1fb.js"><link rel="prefetch" href="/assets/js/35.4706b85f.js"><link rel="prefetch" href="/assets/js/36.3565fa23.js"><link rel="prefetch" href="/assets/js/37.cea91192.js"><link rel="prefetch" href="/assets/js/38.e19839de.js"><link rel="prefetch" href="/assets/js/39.a6658ea6.js"><link rel="prefetch" href="/assets/js/4.832274fd.js"><link rel="prefetch" href="/assets/js/5.e457cf98.js"><link rel="prefetch" href="/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/assets/js/7.159f2f50.js"><link rel="prefetch" href="/assets/js/8.4ecdf95d.js"><link rel="prefetch" href="/assets/js/9.6a63ad8e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.73d0500b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Docs S++</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guías
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Doc
</a></div><div class="nav-item"><a href="https://github.com/petrix12" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guías
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Doc
</a></div><div class="nav-item"><a href="https://github.com/petrix12" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mi GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Soluciones++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AWS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Herramientas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Laravel</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/laravel/sefar2022/sefar2022-P01.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE I)</a></li><li><a href="/guide/laravel/sefar2022/sefar2022-P02.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE II)</a></li><li><a href="/guide/laravel/sefar2022/sefar2022-P03.html" class="sidebar-link">Proyecto Sefar 2022 (PARTE III)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P01.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte I)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P02.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte II)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P03.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte III)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P04.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte IV)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P05.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte V)</a></li><li><a href="/guide/laravel/sefar2021/sefar2021-P06.html" aria-current="page" class="active sidebar-link">Proyecto App Sefar Universal 2021 (Parte VI)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#pendientes" class="sidebar-link">Pendientes:</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#crud-clientes-con-liveware" class="sidebar-link">CRUD Clientes con Liveware</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#crud-diex-con-liveware" class="sidebar-link">CRUD Diex con Liveware</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#crud-maisanta-con-liveware" class="sidebar-link">CRUD Maisanta con Liveware</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#convertir-la-aplicacion-en-pwa-aplicacion-web-progresiva" class="sidebar-link">Convertir la aplicación en PWA (Aplicación Web Progresiva)</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#documentacion" class="sidebar-link">Documentación</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#crear-rutas-de-mantenimiento-de-la-aplicacion" class="sidebar-link">Crear rutas de mantenimiento de la aplicación</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#subir-proyecto-local-a-github" class="sidebar-link">Subir proyecto local a GitHub</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#configurar-github-con-el-hosting-de-godaddy" class="sidebar-link">Configurar GitHub con el hosting de GoDaddy</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#rutas-iniciales" class="sidebar-link">Rutas INICIALES</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#rutas-permisos" class="sidebar-link">Rutas PERMISOS</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#rutas-roles" class="sidebar-link">Rutas ROLES</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#rutas-usuarios" class="sidebar-link">Rutas USUARIOS</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#rutas-onidex" class="sidebar-link">Rutas ONIDEX</a></li><li class="sidebar-sub-header"><a href="/guide/laravel/sefar2021/sefar2021-P06.html#notas-de-interes" class="sidebar-link">Notas de interes</a></li></ul></li><li><a href="/guide/laravel/sefar2021/sefar2021-P07.html" class="sidebar-link">Proyecto App Sefar Universal 2021 (Parte VII)</a></li><li><a href="/guide/laravel/file2021/file2021.html" class="sidebar-link">Subir archivos a la red con Laravel y almacenar sus datos en MySQL</a></li><li><a href="/guide/laravel/multifile2021/multifile2021.html" class="sidebar-link">Cómo subir múltiples archivos en Laravel</a></li><li><a href="/guide/laravel/laravel2021/laravel2021.html" class="sidebar-link">Curso Laravel 8 desde cero</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Lógica</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="proyecto-app-sefar-universal-2021-parte-vi"><a href="#proyecto-app-sefar-universal-2021-parte-vi" class="header-anchor">#</a> Proyecto App Sefar Universal 2021 (Parte VI)</h1> <ul><li>Versión: <strong>Laravel Framework 8.31.0</strong></li></ul> <h2 id="pendientes"><a href="#pendientes" class="header-anchor">#</a> Pendientes:</h2> <ol><li>Pendiente</li></ol> <h2 id="crud-clientes-con-liveware"><a href="#crud-clientes-con-liveware" class="header-anchor">#</a> CRUD Clientes con Liveware</h2> <ol><li>Pendiente</li></ol> <h2 id="crud-diex-con-liveware"><a href="#crud-diex-con-liveware" class="header-anchor">#</a> CRUD Diex con Liveware</h2> <ol><li>Pendiente</li></ol> <h2 id="crud-maisanta-con-liveware"><a href="#crud-maisanta-con-liveware" class="header-anchor">#</a> CRUD Maisanta con Liveware</h2> <ol><li>Crear vista Registro <strong>resources\views\auth\registro.blade.php</strong></li> <li>Crear controlador Registro:
<ul><li>$ php artisan make:controller RegistroController</li></ul></li> <li>Crear ruta en routes\web.php</li></ol> <h2 id="convertir-la-aplicacion-en-pwa-aplicacion-web-progresiva"><a href="#convertir-la-aplicacion-en-pwa-aplicacion-web-progresiva" class="header-anchor">#</a> Convertir la aplicación en PWA (Aplicación Web Progresiva)</h2> <ol><li>Crear archivo de configuración del <strong>Service Worker</strong> en (public\sw.js):<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">CACHE_ELEMENTS</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// Incluir todas las rutas que usa la aplicación, incluyendo los CDN's</span>
    <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./agclientes&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./albero&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./books&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./consultaodx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./countries&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./dashboard&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./families&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./files&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./formats&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./lados&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./libraries&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./login&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./logout&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./miscelaneos&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./olivo&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./parentescos&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./permissions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./procesar&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./register&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./registro&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./roles&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./salir&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./t_files&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./tree&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./user/password&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./profile&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./users&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./css/app.css&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./css/sefar.css&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;./js/app.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://cdn.jsdelivr.net/npm/sweetalert2@9&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://app.sefaruniversal.com/vendor/adminlte/dist/img/LogoSefar.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&amp;display=swap&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;http://www.w3.org/2000/svg&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://laravel.com/docs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://laracasts.com&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://laravel-news.com&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://forge.laravel.com&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://laravel.bigcartel.com&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://github.com/sponsors/taylorotwell&quot;</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> <span class="token constant">CACHE_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;v1_cache_app_sefar_old&quot;</span>

self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;install&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
        caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token constant">CACHE_NAME</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cache</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token constant">CACHE_ELEMENTS</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        self<span class="token punctuation">.</span><span class="token function">skipWaiting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cacheWhiteList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">CACHE_NAME</span><span class="token punctuation">]</span>

    e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
        caches<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cacheNames</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
                cacheNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cacheName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">(</span>
                        cacheWhiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> caches<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> self<span class="token punctuation">.</span>clients<span class="token punctuation">.</span><span class="token function">claim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;fetch&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
        caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> res
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>Nota</strong>: para establecer las propiedades de incon ir a <a href="https://www.pwabuilder.com/imageGenerator" target="_blank" rel="noopener noreferrer">PWABuilder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> e introducir como a imagen base la de <strong>public\Logo.png</strong>. En la página establecer:
+ Padding: 0
+ Background Color: Tranparent
+ Clic en <strong>Generate</strong> y descomprimir el zip generado en la raíz de <strong>public</strong>.
+ Luego eliminar los siguientes archivos:
+ public\AppImages.zip
+ public\icons.json
Otra opción para generar las imagenes de la aplicación es ir a: https://www.npmjs.com/package/pwa-asset-generator</p></div></li> <li>Crear archivo de registro del SW (public\register.js):<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;./sw.js&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>Crear archivo de manifiesto <strong>public\manifest.json</strong>:<div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aplicación Sefar Universal&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;App Sefar&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Abogados y genealogistas expertos en inmigración. Conseguimos tu pasaporte español, portugues e italiano, para que seas libre, trascendiendo fronteras.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;background_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#333333&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;theme_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#333333&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lang&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standalone&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orientation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;portrait&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;icons&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;windows11/SmallTile.scale-100.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sizes&quot;</span><span class="token operator">:</span> <span class="token string">&quot;71x71&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;windows11/SmallTile.scale-125.png&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sizes&quot;</span><span class="token operator">:</span> <span class="token string">&quot;89x89&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Advertencia</p> <p>Ver el código completo enla ruta indicada.</p></div></li> <li>Registrar el SW (Service Worker) en <strong>resources\views\layouts\app.blade.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">...</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">...</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Meta tags <span class="token constant">PWA</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;theme-color&quot;</span> content<span class="token operator">=</span><span class="token string double-quoted-string">&quot;#333333&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;MobileOptimized&quot;</span> content<span class="token operator">=</span><span class="token string double-quoted-string">&quot;width&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;HandheldFriendly&quot;</span> content<span class="token operator">=</span><span class="token string double-quoted-string">&quot;true&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;apple-mobile-web-app-capable&quot;</span> content<span class="token operator">=</span><span class="token string double-quoted-string">&quot;yes&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;apple-mobile-web-app-status-bar-style&quot;</span> content<span class="token operator">=</span><span class="token string double-quoted-string">&quot;black-translucent&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Iconos <span class="token constant">PWA</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string double-quoted-string">&quot;shortcut icon&quot;</span> href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ asset(&quot;</span><span class="token operator">.</span><span class="token operator">/</span>Logo<span class="token operator">.</span>png<span class="token string double-quoted-string">&quot;) }}&quot;</span> type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;image/png&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string double-quoted-string">&quot;apple-touch-icon&quot;</span> href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ asset(&quot;</span><span class="token operator">.</span><span class="token operator">/</span>Logo<span class="token operator">.</span>png<span class="token string double-quoted-string">&quot;) }}&quot;</span> type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;image/png&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string double-quoted-string">&quot;apple-touch-startup-image&quot;</span> href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ asset(&quot;</span><span class="token operator">.</span><span class="token operator">/</span>Logo<span class="token operator">.</span>png<span class="token string double-quoted-string">&quot;) }}&quot;</span> type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;image/png&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Manifest <span class="token constant">PWA</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string double-quoted-string">&quot;manifest&quot;</span> href<span class="token operator">=</span><span class="token string double-quoted-string">&quot;{{ asset(&quot;</span><span class="token operator">.</span><span class="token operator">/</span>manifest<span class="token operator">.</span>json<span class="token string double-quoted-string">&quot;) }}&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'app.name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Laravel'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token class-name">Tus</span> antepasados te quieren libre<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>    
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">...</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">asset</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;./register.js&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">...</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>Aplicaar estos mismos cambios en <strong>resources\views\welcome.blade.php</strong>.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><strong>Nota</strong>: en caso de no contar con un icono para la aplicación se puede seleccionar uno en <a href="https://www.iconfinder.com" target="_blank" rel="noopener noreferrer">IconFinder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Se recomienda seleccionar un icono: <strong>Free</strong> y <strong>For commercial use</strong>.
<p></p></li></ul></div></li></ol> <div class="custom-block tip"><p class="custom-block-title">Convertir la aplicación en PWA con Vite.js</p> <ul><li>Siguiendo la siguiente documentación se puede convertir también nuestra aplicación en PWA con Vite.js: https://vite-pwa-org.netlify.app</li> <li>También podemos guiarnos con este curso: https://www.udemy.com/course/react-desde-cero-pwa/learn/lecture/30230462#overview</li> <li>En resumen:
<ul><li>npm i vite-plugin-pwa -D</li> <li>Modificar <strong>vite.config.ts</strong>.</li></ul></li></ul></div> <h2 id="documentacion"><a href="#documentacion" class="header-anchor">#</a> Documentación</h2> <ol><li>Ejecutar:
<ul><li>$ npx create-vuepress-site
<ul><li>? What's the name of your project?: App Sefar</li> <li>? What's the description of your project? Aplicación web para la administración de información de la empresa.</li> <li>? What's your email? pedro.bazo@gmail.com</li> <li>? What's your name? Pedro Bazó</li> <li>? What's the repo of your project? https://github.com/petrix12/AppSefarUniversal.git</li></ul></li> <li>$ cd docs</li> <li>$ npm install</li></ul></li> <li>Para ejecutar la documentación:
<ul><li>$ cd docs</li> <li>$ npm run dev     (en desarrollo)</li> <li>$ npm run build   (construir documentación para producción)</li></ul></li></ol> <h2 id="crear-rutas-de-mantenimiento-de-la-aplicacion"><a href="#crear-rutas-de-mantenimiento-de-la-aplicacion" class="header-anchor">#</a> Crear rutas de mantenimiento de la aplicación</h2> <ol><li>Agregar las siguientes rutas en <strong>routes\web.php</strong> para poder realizarle mantenimiento a la aplicación cuando se encuentre en producción:<div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// RUTAS PARA EL MANTENIMIENTO DE LA APLICACIÓN EN PRODUCCIÓN</span>
<span class="token comment">// Ruta para ejecutar en producción: $ php artisan key:generate</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'key-generate'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'key:generate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan storage:link</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'storage-link'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'storage:link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan config:cache</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config-cache'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config:cache'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan cache:clear</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'cache-clear'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'cache:clear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan route:clear</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'route-clear'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'route:clear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan config:clear</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config-clear'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'config:clear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ruta para ejecutar en producción: $ php artisan view:clear</span>
<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'view-clear'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Artisan</span><span class="token operator">::</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'view:clear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>Commit:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Rutas para mantenimiento de la app&quot;</li></ul></li></ol> <h2 id="subir-proyecto-local-a-github"><a href="#subir-proyecto-local-a-github" class="header-anchor">#</a> Subir proyecto local a GitHub</h2> <ul><li>https://github.com/</li></ul> <ol><li>Ejecutar:
<ul><li>$ npm run production</li> <li>$ composer dumpautoload</li> <li>$ php artisan key:generate</li></ul></li> <li>Creamos un nuevo repositorio <strong>público</strong> con el nombre <strong>AppSefarUniversal</strong> en la página de GitHub:
<ul><li>Las opciones de <strong>Initialize this repository with</strong> las dejamos sin marcar.</li></ul></li> <li>Ejecutamos en local:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Ajustes finales&quot;</li> <li>$ git remote add origin https://github.com/petrix12/AppSefarUniversal.git</li> <li>$ git push -u origin master</li></ul></li></ol> <h2 id="configurar-github-con-el-hosting-de-godaddy"><a href="#configurar-github-con-el-hosting-de-godaddy" class="header-anchor">#</a> Configurar GitHub con el hosting de GoDaddy</h2> <ol><li>Ingresar al cPanel con https://a2plcpnl0082.prod.iad2.secureserver.net:2083/</li> <li>En la sección <strong>ARCHIVOS</strong> ir a <strong>Git™ Version Control</strong></li> <li>Crear repositorio ingresando los siguientes parámetros:
<ul><li>Clone URL: https://github.com/petrix12/AppSefarUniversal.git</li> <li>Repository Path: public_html/app.sefaruniversal.com</li> <li>Repository Name: AppSefarUniversal</li></ul></li> <li>Copiar del proyecto local a la carpeta del hosting <strong>public_html/app.sefaruniversal.com</strong> los siguientes directorios:
<ul><li>node_modules</li> <li>public/storage</li> <li>vendor</li></ul></li> <li>Copiar y pegar el archivo <strong>.env</strong> del local al hosting.</li> <li>Cambiar las siguientes variables de entorno al archivo <strong>.env</strong>:<div class="language- extra-class"><pre class="language-text"><code>APP_NAME=&quot;App Sefar Universal&quot;
APP_ENV=production
APP_KEY=base64:LsfuS5WhYfAe/FWDLdrzXFWacnFB4EgNIHBHo8ZzOSk=
APP_DEBUG=false
APP_URL=https://app.sefaruniversal.com

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=sefar
DB_USERNAME=*****
DB_PASSWORD=*********

ONIDEX_CONNECTION=mysql
ONIDEX_HOST=127.0.0.1
ONIDEX_PORT=3306
ONIDEX_DATABASE=onidex
ONIDEX_USERNAME=*****
ONIDEX_PASSWORD=*************

MAIL_MAILER=smtp
MAIL_HOST=sefaruniversal.com
MAIL_PORT=587
MAIL_USERNAME=app@sefaruniversal.com
MAIL_PASSWORD=*********
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=app@sefaruniversal.com
MAIL_FROM_NAME=&quot;${APP_NAME}&quot;
</code></pre></div></li> <li>Para configurar Laravel (AppSefar) con Gmail (info@sefarvzla.com):<div class="language- extra-class"><pre class="language-text"><code>MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=465
MAIL_USERNAME=info@sefarvzla.com
MAIL_PASSWORD=*******
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=info@sefarvzla.com
MAIL_FROM_NAME=&quot;${APP_NAME}&quot;

MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=465
MAIL_USERNAME=info@sefarvzla.com
MAIL_PASSWORD=************
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=info@sefarvzla.com
MAIL_FROM_NAME=&quot;${APP_NAME}&quot;
</code></pre></div><ul><li>Luego direccionar
<ul><li>https://app.sefaruniversal.com/config-clear</li></ul></li></ul></li> <li>Direccionar las siguientes rutas:
<ul><li>https://app.sefaruniversal.com/storage-link</li> <li>Esta acción simula la instrucción artisan <strong>$ php artisan storage:link</strong> para crear un enlace simbólico de public a storage. Verifique que no exista carpeta o acceso directo en <strong>public</strong> con el nombre <strong>storage</strong>, de ser así, elimínelo.</li> <li>https://app.sefaruniversal.com/config-cache</li> <li>Esta acción simula la instrucción artisan <strong>php artisan config:cache</strong> para borrar la caché de la configuración anterior.</li> <li><strong>Nota</strong>: De aquí en adelante, cada vez que se realicen cambios en local se deberán seguir los siguientes pasos para que se reflejen en producción:</li> <li>En local ejecutar:
<ul><li>$ git add .</li> <li>$ git commit -m &quot;Descripción de los cambios&quot;</li> <li>$ git push -u origin master</li></ul></li> <li>En el cPanel:
<ul><li>Ingresar al cPanel con https://a2plcpnl0082.prod.iad2.secureserver.net:2083/</li> <li>En la sección <strong>ARCHIVOS</strong> ir a <strong>Git™ Version Control</strong>.</li> <li>Administrar el repositorio <strong>AppSefarUniversal</strong>.</li> <li>Ir a la pestaña <strong>Pull or Deploy</strong>.</li> <li>Presionar el botón <strong>Update from Remote</strong>.</li></ul></li></ul></li></ol> <h2 id="rutas-iniciales"><a href="#rutas-iniciales" class="header-anchor">#</a> Rutas <strong>INICIALES</strong></h2> <div class="language- extra-class"><pre><code>```
Method      URI                               	Name
======		===								  	====
GET|HEAD	| / 								| inicio
GET|HEAD	| api/user 							|
GET|HEAD	| dashboard                        	| dashboard  
GET|HEAD 	| forgot-password                  	| password.request   
POST     	| forgot-password                  	| password.email   
GET|HEAD 	| livewire/livewire.js             	|                           
GET|HEAD 	| livewire/livewire.js.map         	|    
POST     	| livewire/message/{name}          	| livewire.message         
GET|HEAD 	| livewire/preview-file/{filename} 	| livewire.preview-file    
POST     	| livewire/upload-file             	| livewire.upload-file        
POST     	| login                            	|                                 
GET|HEAD 	| login                            	| login                       
POST     	| logout                           	| logout                      
GET|HEAD 	| register                         	| register                   
POST     	| register                         	|                               
POST     	| reset-password                   	| password.update             
GET|HEAD 	| reset-password/{token}           	| password.reset                 
GET|HEAD 	| sanctum/csrf-cookie              	|                                
POST     	| two-factor-challenge             	|                           
GET|HEAD 	| two-factor-challenge             	| two-factor.login            
GET|HEAD 	| user/confirm-password            	| password.confirm            
POST     	| user/confirm-password            	|                                 
GET|HEAD 	| user/confirmed-password-status   	| password.confirmation           
PUT      	| user/password                    	| user-password.update            
GET|HEAD 	| user/profile                     	| profile.show                    
PUT      	| user/profile-information         	| user-profile-information.update
DELETE   	| user/two-factor-authentication   	|                                 
POST     	| user/two-factor-authentication   	|                                 
GET|HEAD 	| user/two-factor-qr-code          	|                                
POST     	| user/two-factor-recovery-codes   	|                                 
GET|HEAD 	| user/two-factor-recovery-codes   	|  
```
</code></pre></div><h2 id="rutas-permisos"><a href="#rutas-permisos" class="header-anchor">#</a> Rutas <strong>PERMISOS</strong></h2> <div class="language- extra-class"><pre><code>```
Method      URI                               	Name
======		===								  	====
GET|HEAD 	| permissions                      	| crud.permissions.index 
POST     	| permissions                      	| crud.permissions.store
GET|HEAD  	| permissions/create               	| crud.permissions.create 
GET|HEAD  	| permissions/{permission}         	| crud.permissions.show
PUT|PATCH 	| permissions/{permission}         	| crud.permissions.update
DELETE    	| permissions/{permission}         	| crud.permissions.destroy 
GET|HEAD  	| permissions/{permission}/edit    	| crud.permissions.edit
```
</code></pre></div><h2 id="rutas-roles"><a href="#rutas-roles" class="header-anchor">#</a> Rutas <strong>ROLES</strong></h2> <div class="language- extra-class"><pre><code>```
Method      URI                               	Name
======		===								  	====
GET|HEAD 	| roles                      		| crud.roles.index 
POST     	| roles                      		| crud.roles.store
GET|HEAD  	| roles/create               		| crud.roles.create 
GET|HEAD  	| roles/{role}         				| crud.roles.show
PUT|PATCH 	| roles/{role}         				| crud.roles.update
DELETE    	| roles/{role}         				| crud.roles.destroy 
GET|HEAD  	| roles/{role}/edit    				| crud.roles.edit
```
</code></pre></div><h2 id="rutas-usuarios"><a href="#rutas-usuarios" class="header-anchor">#</a> Rutas <strong>USUARIOS</strong></h2> <div class="language- extra-class"><pre><code>```
Method      URI                               	Name
======		===								  	====
GET|HEAD 	| users                      		| crud.users.index 
POST     	| users                      		| crud.users.store
GET|HEAD  	| users/create               		| crud.users.create 
GET|HEAD  	| users/{user}         				| crud.users.show
PUT|PATCH 	| users/{user}         				| crud.users.update
DELETE    	| users/{user}         				| crud.users.destroy 
GET|HEAD  	| users/{user}/edit    				| crud.users.edit
```
</code></pre></div><h2 id="rutas-onidex"><a href="#rutas-onidex" class="header-anchor">#</a> Rutas <strong>ONIDEX</strong></h2> <div class="language- extra-class"><pre><code>```
Method      URI                               	Name
======		===								  	====
GET|HEAD  	| consultaodx                      	| consultas.onidex.index
```
</code></pre></div><h2 id="notas-de-interes"><a href="#notas-de-interes" class="header-anchor">#</a> Notas de interes</h2> <h3 id="regresar-a-un-commit-anterior"><a href="#regresar-a-un-commit-anterior" class="header-anchor">#</a> Regresar a un commit anterior</h3> <ol><li>Ver historia de commit:<div class="language- extra-class"><pre class="language-text"><code>$ git log --pretty=oneline
</code></pre></div></li> <li>Seleccionar el commit al cual queremos regresar:<div class="language- extra-class"><pre class="language-text"><code>$ git reset --hard &lt;commit-id&gt;
</code></pre></div></li></ol> <h3 id="para-limpiar-el-cache"><a href="#para-limpiar-el-cache" class="header-anchor">#</a> Para limpiar el cache</h3> <ol><li>Ejecutar:
<ul><li>$ php artisan config:cache</li> <li>$ php artisan cache:clear</li></ul></li></ol> <h3 id="preparando-proyecto-para-produccion"><a href="#preparando-proyecto-para-produccion" class="header-anchor">#</a> Preparando proyecto para producción</h3> <ol><li>Limpiar el caché de la Aplicación:
<ul><li>$ php artisan cache:clear</li></ul></li> <li>Limpiar las rutas de la Aplicación.
<ul><li>$ php artisan route:clear</li></ul></li> <li>Limpiar las configuraciones de la Aplicación.
<ul><li>$ php artisan config:clear</li></ul></li> <li>Limpiar las vistas de la Aplicación.
<ul><li>$ php artisan view:clear</li></ul></li></ol> <h3 id="crear-helper-personalizado"><a href="#crear-helper-personalizado" class="header-anchor">#</a> Crear helper personalizado</h3> <ol><li>Crear helper <strong>app\helper\sefar.php</strong>:<div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// Obtener persona</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Agcliente</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>File</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>User</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function-definition function">GetPersona</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Cliente'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Padre'</span><span class="token punctuation">;</span>	<span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Madre'</span><span class="token punctuation">;</span>	<span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Abuelo Paterno'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Abuela Paterna'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Abuelo Materno'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span>	<span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Abuela Materna'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuelo Pat. Pat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuela Pat. Pat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuelo Pat. Mat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuela Pat. Mat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuelo Mat. Pat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuela Mat. Pat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">14</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuelo Mat. Mat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">15</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Bisabuela Mat. Mat.'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">16</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo PPP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">17</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela PPP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">18</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo PPM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">19</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela PPM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo PMP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">21</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela PMP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">22</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo PMM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">23</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela PMM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">24</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo MPP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">25</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela MPP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">26</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo MPM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">27</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela MPM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">28</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo MMP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">29</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela MMP'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">30</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuelo MMM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">31</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Tatarabuela MMM'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$Persona</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener persona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetPersonaInv</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Cliente'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Padre'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Madre'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Abuelo Paterno'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Abuela Paterna'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Abuelo Materno'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Abuela Materna'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuelo Pat. Pat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuela Pat. Pat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuelo Pat. Mat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuela Pat. Mat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuelo Mat. Pat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuela Mat. Pat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuelo Mat. Mat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Bisabuela Mat. Mat.'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo PPP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela PPP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo PPM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela PPM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo PMP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela PMP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo PMM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela PMM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo MPP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela MPP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo MPM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela MPM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo MMP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela MMP'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuelo MMM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string single-quoted-string">'Tatarabuela MMM'</span><span class="token punctuation">:</span> <span class="token variable">$Persona</span> <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$Persona</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener generación</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetGeneracion</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">14</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">15</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">16</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">17</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">18</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">19</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">21</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">22</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">23</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">24</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">25</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">26</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">27</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">28</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">29</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">30</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">31</span><span class="token punctuation">:</span> <span class="token variable">$Generacion</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$Generacion</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener IDPadre</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetIDPadre</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">14</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">15</span><span class="token punctuation">:</span> <span class="token variable">$IDPadre</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$IDPadre</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener IDHijo</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetIDHijo</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">5</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">7</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">8</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">9</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">11</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">12</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">13</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">14</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">15</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">16</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">17</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">18</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">19</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">21</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">22</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">23</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">24</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">25</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">26</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">27</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">28</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">29</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">30</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">31</span><span class="token punctuation">:</span> <span class="token variable">$IDHijo</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$IDHijo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener id de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetID</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener nombres de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetNombres</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">Nombres</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener apellidos de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetApellidos</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">Apellidos</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener campo Familiares de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetFamiliares</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">Familiares</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener sexo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetSexo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">Sexo</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$IDPersona</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token string double-quoted-string">&quot;F&quot;</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;M&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener observaciones de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetObservaciones</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">Observaciones</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener año de nacimiento de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetAnhoNac</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoNac</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener mes de nacimiento de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetMesNac</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesNac</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener día de nacimiento de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetDiaNac</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaNac</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener lugar de nacimiento de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetLugarNac</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarNac</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener país de nacimiento de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetPaisNac</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">PaisNac</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener año de bautizo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetAnhoBtzo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoBtzo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener mes de bautizo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetMesBtzo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesBtzo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener día de bautizo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetDiaBtzo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaBtzo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener lugar de bautizo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetLugarBtzo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarBtzo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener país de bautizo de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetPaisBtzo</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">PaisBtzo</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener año de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetAnhoMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoMatr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener mes de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetMesMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesMatr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener día de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetDiaMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaMatr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener lugar de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetLugarMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarMatr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener país de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetPaisMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">PaisMatr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener año de defunción de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetAnhoDef</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener mes de defunción de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetMesDef</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener día de defunción de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetDiaDef</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener lugar de defunción de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetLugarDef</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener país de defunción de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetPaisDef</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">PaisDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener fecha de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetFechaMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token variable">$AnhoMatr</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoMatr</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoMatr</span> <span class="token operator">=</span> <span class="token variable">$AnhoMatr</span> <span class="token operator">?</span> <span class="token variable">$AnhoMatr</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$MesMatr</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesMatr</span><span class="token punctuation">;</span>
        <span class="token variable">$MesMatr</span> <span class="token operator">=</span> <span class="token variable">$MesMatr</span> <span class="token operator">?</span> <span class="token variable">$MesMatr</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaMatr</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaMatr</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaMatr</span> <span class="token operator">=</span> <span class="token variable">$DiaMatr</span> <span class="token operator">?</span> <span class="token variable">$DiaMatr</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$DiaMatr</span></span> / <span class="token interpolation"><span class="token variable">$MesMatr</span></span> / <span class="token interpolation"><span class="token variable">$AnhoMatr</span></span>&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener datos de matrimonio de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetDatosMatrimonio</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token variable">$matrimonio</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Matrimonio: &quot;</span><span class="token punctuation">;</span>
    <span class="token variable">$lugar</span> <span class="token operator">=</span> <span class="token function">GetLugarMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$matrimonio</span> <span class="token operator">=</span> <span class="token variable">$matrimonio</span> <span class="token operator">.</span> <span class="token variable">$lugar</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' '</span><span class="token punctuation">;</span>
    <span class="token variable">$fecha</span> <span class="token operator">=</span> <span class="token function">GetFechaMatr</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$matrimonio</span> <span class="token operator">=</span> <span class="token variable">$matrimonio</span> <span class="token operator">.</span> <span class="token variable">$fecha</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$matrimonio</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener años de vida de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetVida</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token variable">$AnhoNac</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoNac</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoNac</span> <span class="token operator">=</span> <span class="token variable">$AnhoNac</span> <span class="token operator">?</span> <span class="token variable">$AnhoNac</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoDef</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoDef</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoDef</span> <span class="token operator">=</span> <span class="token variable">$AnhoDef</span> <span class="token operator">?</span> <span class="token variable">$AnhoDef</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$AnhoNac</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' / '</span> <span class="token operator">.</span> <span class="token variable">$AnhoDef</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener lugar y años de vida de la persona IDPersona</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetVidaCompleta</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token variable">$AnhoNac</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoNac</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoNac</span> <span class="token operator">=</span> <span class="token variable">$AnhoNac</span> <span class="token operator">?</span> <span class="token variable">$AnhoNac</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$MesNac</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesNac</span><span class="token punctuation">;</span>
        <span class="token variable">$MesNac</span> <span class="token operator">=</span> <span class="token variable">$MesNac</span> <span class="token operator">?</span> <span class="token variable">$MesNac</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaNac</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaNac</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaNac</span> <span class="token operator">=</span> <span class="token variable">$DiaNac</span> <span class="token operator">?</span> <span class="token variable">$DiaNac</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$LugarNac</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarNac</span><span class="token punctuation">;</span>
        <span class="token variable">$Nacimiento</span> <span class="token operator">=</span><span class="token string double-quoted-string">&quot;Nacimiento: <span class="token interpolation"><span class="token variable">$LugarNac</span></span>, <span class="token interpolation"><span class="token variable">$DiaNac</span></span> / <span class="token interpolation"><span class="token variable">$MesNac</span></span> / <span class="token interpolation"><span class="token variable">$AnhoNac</span></span>&quot;</span><span class="token punctuation">;</span>

        <span class="token variable">$AnhoDef</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">AnhoDef</span><span class="token punctuation">;</span>
        <span class="token variable">$AnhoDef</span> <span class="token operator">=</span> <span class="token variable">$AnhoDef</span> <span class="token operator">?</span> <span class="token variable">$AnhoDef</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$MesDef</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">MesDef</span><span class="token punctuation">;</span>
        <span class="token variable">$MesDef</span> <span class="token operator">=</span> <span class="token variable">$MesDef</span> <span class="token operator">?</span> <span class="token variable">$MesDef</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaDef</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">DiaDef</span><span class="token punctuation">;</span>
        <span class="token variable">$DiaDef</span> <span class="token operator">=</span> <span class="token variable">$DiaDef</span> <span class="token operator">?</span> <span class="token variable">$DiaDef</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'--'</span><span class="token punctuation">;</span>
        <span class="token variable">$LugarDef</span> <span class="token operator">=</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">LugarDef</span><span class="token punctuation">;</span>
        <span class="token variable">$Defuncion</span> <span class="token operator">=</span><span class="token string double-quoted-string">&quot;Defunción: <span class="token interpolation"><span class="token variable">$LugarDef</span></span>, <span class="token interpolation"><span class="token variable">$DiaDef</span></span> / <span class="token interpolation"><span class="token variable">$MesDef</span></span> / <span class="token interpolation"><span class="token variable">$AnhoDef</span></span>&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$Nacimiento</span></span> - <span class="token interpolation"><span class="token variable">$Defuncion</span></span>&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">AddPersona</span><span class="token punctuation">(</span><span class="token variable">$IDCliente</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token variable">$Sexo</span> <span class="token operator">=</span> <span class="token variable">$IDPersona</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'F'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'M'</span><span class="token punctuation">;</span>
    <span class="token variable">$agcliente</span> <span class="token operator">=</span> <span class="token class-name static-context">Agcliente</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'IDCliente'</span> <span class="token operator">=&gt;</span> <span class="token variable">$IDCliente</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'IDPersona'</span> <span class="token operator">=&gt;</span> <span class="token variable">$IDPersona</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Sexo'</span> <span class="token operator">=&gt;</span> <span class="token variable">$Sexo</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'IDPadre'</span> <span class="token operator">=&gt;</span> <span class="token function">GetIDPadre</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'IDMadre'</span> <span class="token operator">=&gt;</span> <span class="token function">GetIDPadre</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Generacion'</span> <span class="token operator">=&gt;</span> <span class="token function">GetGeneracion</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'FUpdate'</span> <span class="token operator">=&gt;</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'Usuario'</span> <span class="token operator">=&gt;</span> <span class="token function">Auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">email</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$agcliente</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Contenido de la caja de persona para la cajas de la vista Olivo</span>
<span class="token keyword">function</span> <span class="token function-definition function">GetBoxPerson</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">string</span><span class="token punctuation">{</span>
    <span class="token variable">$contenido</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'
        &lt;p class=&quot;text-xs underline&quot; title=&quot;'</span><span class="token operator">.</span><span class="token function">GetDatosMatrimonio</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&quot;&gt;'</span><span class="token operator">.</span><span class="token function">GetPersona</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/p&gt;
        &lt;p class=&quot;text-xs font-bold&quot;&gt;'</span><span class="token operator">.</span><span class="token function">GetNombres</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/p&gt;
        &lt;p class=&quot;text-xs font-bold&quot;&gt;'</span><span class="token operator">.</span><span class="token function">GetApellidos</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/p&gt;
    '</span><span class="token punctuation">;</span>
    <span class="token comment">//return $contenido;</span>
    <span class="token keyword">return</span> <span class="token function">GetPersona</span><span class="token punctuation">(</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Verifica si una persona existe</span>
<span class="token keyword">function</span> <span class="token function-definition function">existePer</span><span class="token punctuation">(</span><span class="token variable">$agclientes</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$agclientes</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span><span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">IDCliente</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Throwable</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Comprobar que una persona tiene documentos</span>
<span class="token keyword">function</span> <span class="token function-definition function">existeDoc</span><span class="token punctuation">(</span><span class="token variable">$pasaporte</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name static-context">File</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDCliente'</span><span class="token punctuation">,</span><span class="token variable">$pasaporte</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">id</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener documentos de una persona</span>
<span class="token keyword">function</span> <span class="token function-definition function">getDocumentos</span><span class="token punctuation">(</span><span class="token variable">$pasaporte</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name static-context">File</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDCliente'</span><span class="token punctuation">,</span><span class="token variable">$pasaporte</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IDPersona'</span><span class="token punctuation">,</span> <span class="token variable">$IDPersona</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Obtener servicio</span>
<span class="token keyword">function</span> <span class="token function-definition function">getServicio</span><span class="token punctuation">(</span><span class="token variable">$passport</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'passport'</span><span class="token punctuation">,</span><span class="token variable">$passport</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token property">servicio</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div></li> <li>Modificar <strong>composer.json</strong> para agregar el helper <strong>app\helper\sefar.php</strong><div class="language-php extra-class"><pre class="language-php"><code>≡
<span class="token string double-quoted-string">&quot;autoload&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string double-quoted-string">&quot;psr-4&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string double-quoted-string">&quot;App\\&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;app/&quot;</span><span class="token punctuation">,</span>
        <span class="token string double-quoted-string">&quot;Database\\Factories\\&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;database/factories/&quot;</span><span class="token punctuation">,</span>
        <span class="token string double-quoted-string">&quot;Database\\Seeders\\&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;database/seeders/&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>	
    <span class="token string double-quoted-string">&quot;files&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string double-quoted-string">&quot;app/helper/sefar.php&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
≡
</code></pre></div></li> <li>Ejecutar:
<ul><li>$ composer dump-autoload</li></ul></li> <li>Configurar <strong>config\adminlte.php</strong> para crear un menú para pruebas:
<ul><li>Ver código en el repositorio</li></ul></li> <li>Crear archivo de estilo <strong>public\css\prueba_flex.css</strong>:
<ul><li>Ver código en el repositorio</li></ul></li> <li>Si no se reflejan los cambios ejecutar:
+$ php artisan config:cache</li></ol> <h3 id="configuracion-de-conexion-a-mysql-hosting"><a href="#configuracion-de-conexion-a-mysql-hosting" class="header-anchor">#</a> Configuración de conexión a MySQL Hosting</h3> <ol><li>Configuración de <strong>.env</strong>:<div class="language- extra-class"><pre class="language-text"><code>≡
DB_CONNECTION=mysql
DB_HOST=107.180.2.195
DB_PORT=3306
DB_DATABASE=sefar
DB_USERNAME=pxvim6av41qx
DB_PASSWORD=*****
</code></pre></div><ul><li>IP pública:
<ul><li>https://www.cual-es-mi-ip.net</li></ul></li></ul></li></ol> <h3 id="colores-sefar"><a href="#colores-sefar" class="header-anchor">#</a> Colores Sefar:</h3> <ul><li>Rojo: R:121 G:22 B:15</li> <li>Verde: R:22 G:43 B:27</li> <li>Amarillo: R:247 G:176 B:52</li> <li>Gris: R:63 G:61 B:61</li></ul> <h3 id="tablas-a-reponer-al-restaurar-base-de-datos"><a href="#tablas-a-reponer-al-restaurar-base-de-datos" class="header-anchor">#</a> Tablas a reponer al restaurar base de datos:</h3> <ul><li>agclientes</li> <li>books</li> <li>families</li> <li>libraries</li></ul> <h3 id="para-publicar-y-personalizar-paginas-de-errores-http"><a href="#para-publicar-y-personalizar-paginas-de-errores-http" class="header-anchor">#</a> Para publicar y personalizar páginas de errores http.</h3> <ul><li>$ php artisan vendor:publish --tag=laravel-errors</li> <li><strong>Nota</strong>: las vistas para manejar los errores se ubicaran en <strong>resources\views\errors</strong>.</li></ul> <h3 id="incluir-destinatarios-en-las-notificaciones"><a href="#incluir-destinatarios-en-las-notificaciones" class="header-anchor">#</a> Incluir destinatarios en las notificaciones:</h3> <ol><li>Archivos a modificar para incluir destinatarios en las notificaciones:
<ul><li>Registro: app\Actions\Fortify\CreateNewUser.php</li> <li>Actualización: app\Http\Controllers\ClienteController.php</li></ul></li></ol> <h3 id="crear-modelo"><a href="#crear-modelo" class="header-anchor">#</a> Crear modelo:</h3> <ol><li>Diferentes formas para crear modelos:
<ul><li>Crear solo el modelo
<ul><li>$ php artisan make:model Model</li></ul></li> <li>Crear el modelo con migración:
<ul><li>$ php artisan make:model Model -m</li></ul></li> <li>Crear el modelo con migración y controlador:
<ul><li>$ php artisan make:model Model -mc</li></ul></li> <li>Crear el modelo con migración, controlador y seeder:
<ul><li>$ php artisan make:model Model -mcs</li></ul></li> <li>Crear el modelo con migración, controlador, seeder y factory:
<ul><li>$ php artisan make:model Model -mcsf</li></ul></li> <li>Crear el modelo con migración con todo:
<ul><li>$ php artisan make:model Model -a</li></ul></li></ul></li></ol> <h3 id="clonar-el-repositorio-appsefaruniversal-desde-github"><a href="#clonar-el-repositorio-appsefaruniversal-desde-github" class="header-anchor">#</a> Clonar el repositorio AppSefarUniversal desde GitHub</h3> <ol><li>Clonar repositorio en local:
<ul><li>$ git clone https://github.com/petrix12/AppSefarUniversal.git
<strong>Nota 1</strong>: En mi caso el repositorio lo clonaré en <strong>C:\xampp\htdocs</strong> y luego cambiaré el nombre de <strong>AppSefarUniversal</strong> a <strong>sefar</strong>.
<strong>Nota 2</strong>: Para este ejercicio se está utilizando <strong>XAMPP</strong> como entorno de desarrollo, en caso de utilizar otro entorno como <strong>Laragon</strong> o <strong>WAMPServer</strong> realizar las modificaciones correspondiente a cada caso.</li></ul></li> <li>Ejecutar una terminal en el proyecto recién creado y ejecutar los siguientes comandos desde esa ruta.</li> <li>Instalar dependencias de <strong>PHP</strong> y <strong>NPM</strong>:
<ul><li>$ composer install</li> <li>$ npm install
<strong>Nota</strong>: en caso de presentarse vulnerabilidades ejecutar (<strong>Revisar esta solución más a fonndo</strong>):</li> <li>$ npm install -g npm@latest		(para actualizar NPM)</li> <li>$ npm cache clean --force			(borrar la cache de NPM)</li> <li>$ npm set audit false				(desactivar las auditorias de NPM)</li></ul></li> <li>En caso de no tener creada las bases de datos <strong>sefar</strong> y <strong>onidex</strong> en MySQL, entonces proceder a crearlas (juego de caracteres a utilizar para ambas: <strong>utf8_general_ci</strong>) y seguir los siguientes pasos:
<ul><li>$ php artisan migrate:fresh --seed</li> <li>Importar a la base de datos <strong>sefar</strong> en local la estructura de la tabla <strong>agclientes</strong> desde la base de datos <strong>sefar</strong> del servidor de producción ya que esta tabla no se creará. En caso de querer traerte el proyecto completo entonces exportarla con sus datos.</li> <li>Importar a la base de datos <strong>onidex</strong> en local la estructura de la tabla <strong>agclientes</strong> desde la base de datos <strong>sefar</strong> del servidor de producción ya que esta tabla no se creará. En caso de querer traerte el proyecto completo entonces exportarla con sus datos.</li></ul></li> <li>Copiar la siguiente ruta de acceso relativa del servidor de producción al local:
<ul><li>storage\app\public
<strong>Nota</strong>: en caso de pretender instalar el proyecto vacio, entonces traerse solo la estructura de directorios.</li></ul></li> <li>En caso de no tener un host virtual creado para nuestro proyecto, seguir los siguientes pasos:
<ol><li>Ejecutar el bloc de notas como administrador.</li> <li>Abrir el archivo: <strong>C:\Windows\System32\drivers\etc\hosts</strong>.</li> <li>En la parte final del archivo escribir:<div class="language- extra-class"><pre class="language-text"><code>127.0.0.1     sefar.test
</code></pre></div></li> <li>Guardar y cerrar.</li> <li>Editar con el bloc de notas el archivo: <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong>.</li> <li>Ir al final del archivo y anexar lo siguiente:
<ul><li>Si nunca has creado un virtual host agregar:<div class="language-conf extra-class"><pre class="language-text"><code>&lt;VirtualHost *&gt;
	DocumentRoot &quot;C:\xampp\htdocs&quot;
	ServerName localhost
&lt;/VirtualHost&gt;
</code></pre></div><strong>Nota</strong>: Esta estructura se agregará una única vez.</li> <li>Luego agregar:<div class="language-conf extra-class"><pre class="language-text"><code>&lt;VirtualHost *&gt;
DocumentRoot &quot;C:\xampp\htdocs\sefar\public&quot;
ServerName sefar.test
&lt;Directory &quot;C:\xampp\htdocs\sefar\public&quot;&gt;
	Options All
	AllowOverride All
	Require all granted
&lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre></div></li></ul></li> <li>Guardar y cerrar.</li> <li>Apagar y encender el servidor Apache.
<strong>Nota 1</strong>: ahora podemos ejecutar nuestro proyecto en el navegador introduciendo la siguiente dirección: http://sefar.test
<strong>Nota 2</strong>: En caso de que no funcione el enlace, cambiar en el archivo <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong> el segmento de código <strong>&lt;VirtualHost *&gt;</strong> por <strong>&lt;VirtualHost *:80&gt;</strong>.</li></ol></li> <li>Crear el archivo de variables de entorno <strong>.env</strong> en la raíz del proyecto:<div class="language- extra-class"><pre class="language-text"><code>APP_NAME=&quot;App Sefar Universal&quot;
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://sefar.test

LOG_CHANNEL=stack
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=sefar
DB_USERNAME=root
DB_PASSWORD=

ONIDEX_CONNECTION=mysql
ONIDEX_HOST=127.0.0.1
ONIDEX_PORT=3306
ONIDEX_DATABASE=onidex
ONIDEX_USERNAME=root
ONIDEX_PASSWORD=

BROADCAST_DRIVER=log
CACHE_DRIVER=file
QUEUE_CONNECTION=sync
SESSION_DRIVER=database
SESSION_LIFETIME=120

MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=7c67f786972696
MAIL_PASSWORD=8f37b2d25228ba
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=app.web@sefarvzla.com
MAIL_FROM_NAME=&quot;${APP_NAME}&quot;

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=

PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=mt1

MIX_PUSHER_APP_KEY=&quot;${PUSHER_APP_KEY}&quot;
MIX_PUSHER_APP_CLUSTER=&quot;${PUSHER_APP_CLUSTER}&quot;

VAR_TMP='inicial'
</code></pre></div></li> <li>Generar clave para la variable de entorno <strong>APP_KEY</strong>:
<ul><li>$ php artisan key:generate</li></ul></li> <li>Generar acceso directo (enlace simbólico) de public a storage:
<ul><li>$ php artisan storage:link</li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/laravel/sefar2021/sefar2021-P05.html" class="prev">
        Proyecto App Sefar Universal 2021 (Parte V)
      </a></span> <span class="next"><a href="/guide/laravel/sefar2021/sefar2021-P07.html">
        Proyecto App Sefar Universal 2021 (Parte VII)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.99e194c4.js" defer></script><script src="/assets/js/2.63c13255.js" defer></script><script src="/assets/js/25.0906d804.js" defer></script>
  </body>
</html>
