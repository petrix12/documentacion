# Proyecto App Sefar Universal 2021 (Parte I)
+ Versión: **Laravel Framework 8.31.0**


## URL's
::: tip Direcciones web
+ [Documentación Laravel 8](https://laravel.com/docs/8.x).
+ [Repositorio del proyecto](https://github.com/petrix12/AppSefarUniversal.git).
+ [Servidor de producción](https://app.sefaruniversal.com).
+ [Servidor auxiliar 1](http://appsefar.corporacioncabv.com).
+ [Servidor auxiliar 2](https://corporacioncabv.com/appsefar).
:::


## Consideraciones previas
1. Páginas principales:
	+ Laravel: https://laravel.com
	+ XAMPP: https://www.apachefriends.org/es/index.html
	+ Composer: https://getcomposer.org
	+ Git: https://git-scm.com
	+ GitHub: https://github.com
	+ Node Js: https://nodejs.org/es
	+ Tailwind CSS: https://tailwindcss.com
	+ Mailtrap: https://mailtrap.io
	+ Laravel-permission: https://spatie.be/docs/laravel-permission/v4/introduction
	+ Laravel-AdminLTE: https://github.com/jeroennoten/Laravel-AdminLTE
	+ Sweetalert: https://realrashid.github.io/sweet-alert
	+ Font Awesome: https://fontawesome.com
	+ Visual Studio Code: https://code.visualstudio.com
2. Descargar XAMPP e instalarlo.
	::: tip Nota
	También se podría instalar un servidor local con Laragon. URL: https://laragon.org
	:::
3. Descargar **Composer** e instalarlo.
4. Descargar **Git** e instalarlo.
5. Descargar **Node Js** e instalarlo.
6. Crear una cuenta en GitHub.
7. Crear una cuenta en Mailtrap.
8. Iniciar servidor Apache.
9. Instalar el instalador de Laravel:
	+ $ composer global require laravel/installer.				


## Crear proyecto App Sefar Universal
1. Crear nuevo proyecto Laravel Jetstream:
    + $ laravel new sefar --jet
	+ Seleccionamos livewire y en	**Will your application use teams? (yes/no) [no]:**
	+ Responder **no**
2. Ejecutar: 
	+ $ npm install
    + $ npm run dev
3. Realizar commit:
	+ Crear repositorio: 
        + $ git init
	+ Ejecutar:
		+ $ git add .
	+ Crear repositorio:
		+ $ git commit -m "Proyecto en blanco"


## Crear un dominio local
1. Agregar el siguiente código al final del archivo **C:\Windows\System32\drivers\etc\hosts**:
	```
    # Host virtual para el proyecto App Sefar en Laravel (Lado del cliente) 
    127.0.0.1	sefar.test
    ```
    ::: warning Nota
	Editar con el block de notas en modo de administrador.
    :::
2. Agregar el siguiente código al final del archivo **C:\xampp\apache\conf\extra\httpd-vhosts.conf**:
	```conf
    # Host virtual para el proyecto Sistema Sefar (Lado del servidor)
    <VirtualHost *:80>
        DocumentRoot "C:\xampp\htdocs\sefar\public"
        ServerName sefar.test
    </VirtualHost>
    ```
    ::: warning Nota
	En el archivo **C:\xampp\apache\conf\httpd.conf** las líneas:
	```conf
	Include conf/extra/httpd-vhosts.conf
    ```
	y
	```conf
	LoadModule rewrite_module modules/mod_rewrite.so
    ```
	no deben estar comentada con **#**.
    :::
3. Reiniciar el servidor Apache.


## Ajustes iniciales
1. Crear: base de datos **sefar** en **MySQL**.
    ::: tip Nota
	**Usar**: Juego de caracters: **utf8_general_ci**.
    :::
2. Configurar: **.env** con bd **sefar**
	```env
    ≡
    DB_CONNECTION=mysql
    DB_HOST=127.0.0.1
    DB_PORT=3306
    DB_DATABASE=sefar
    DB_USERNAME=root
    DB_PASSWORD=
    ≡
    ```
3. Establecer juego de caracteres en base de datos en **config\database.php**
	```php
    ≡
    'connections' => [
        ≡
        'mysql' => [
            ≡
            'charset' => 'utf8',
            'collation' => 'utf8_general_ci',
            ≡
    ```
4. Agregar los campos **user_id**, **passport**, **social_id**, **picture** y **created**  a la migración de tabla **users**: 
	```php
    ≡
    public function up()
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email',175)->unique();

            $table->string('passport',175)->nullable()->unique();
            $table->integer('user_id')->nullable();
            $table->string('social_id')->nullable();
            $table->string('picture')->nullable();
            $table->dateTime('created')->nullable();
            $table->string('password_md5')->nullable();

            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->rememberToken();
            $table->foreignId('current_team_id')->nullable();
            $table->text('profile_photo_path')->nullable();
            $table->timestamps();
        });
    }
    ≡
    ```
    ::: tip Nota
	+ Los campos: **user_id**, **social_id**, **picture** y **created** se incluyeron para mantener compatibilidad con la base de datos existente, se espera poder eliminar estos campos en versiones futuras.
    + El campo **email** se redujo a **175** carácteres por problemas de compatibilidad al importar tabla a la base de datos del hosting
    <p></p>
    :::
5. Ejecutar: 
	+ $ php artisan migrate
6. Configurar Jetstream en **config\jetstream.php**:
	```php
    ≡
    'features' => [
        // Features::termsAndPrivacyPolicy(),
        Features::profilePhotos(),
        // Features::api(),
        // Features::teams(['invitations' => true]),
        Features::accountDeletion(),
    ],
    ≡
    ```
    ::: tip Nota
	Para personalizar aún más Jetstream:
	+ Ejecutar: 
		+ $ php artisan vendor:publish
		+ Seleccionar: **Tag: jetstream-views**
	+ Para que se agreguen componentes que no estaban:
		+ Ejecutar: 
			+ $ npm install
		    + $ npm run dev
    <p></p>
	:::
7. Realizar commit:
    + $ git add .
    + $ git commit -m "Ajustes iniciales"


## Integrar Laravel-permission al proyecto
+ Documentación: https://spatie.be/docs/laravel-permission/v4/introduction
1. Ejecutar: 
	+ $ composer require spatie/laravel-permission
    + $ php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider"
    + $ php artisan migrate
1. Añadir a la cabecera del modelo **User**:
	```php
	use Spatie\Permission\Traits\HasRoles;
    ```
1. Añadir dentro de la clase del modelo **User**:
	```php
    use HasRoles;
    ```
	::: tip Instrucciones básicas
	+ Crear un rol:
        ```php
        Role::create(['name' => 'admin']);
        ```
	+ Asignar un rol a un usuario:
		```php
        $user = User::find(1);
        $user->assignRole('admin');
        ```
	+ Crear un permiso:
		```php
		Permission::create(['name' => 'universal']);
        ```
	+ Asignar un permiso a un rol:
		```php
		$role = Role::find(1);
		$role->givePermissionTo('universal');
        ```
	+ Asignar un permiso a un usuario:
		```php
		$user = User::find(2);
		$user->givePermissionTo('universal');
        ```
	+ Revocar permiso a un usuario:
		```php
		$user->revokePermissionTo('universal');
        ```
	+ Revocar rol a un usuario:
		```php
		$user->removeRole('writer');
        ```
	+ Conocer si el usuario X tiene el rol “admin”:
		```php
		$user->hasRole('admin');
        ```
	+ Conocer si el usuario X tiene el permiso “universal”:
		```php
		$user->hasPermissionTo("universal");
        ```
	+ Lista de roles que posee el usuario X:
		```php
		$user->getRoleNames();
        ```
	+ Lista de permisos que posee el usuario X:
		```php
		$user->getAllPermissions();
        ```
	:::
2. Programar el controlador **app\Http\Controllers\Controller.php** para que inicie sesión según el rol asignado al usuario:
	```php
    <?php

    namespace App\Http\Controllers;

    use App\Models\Country;
    use Illuminate\Foundation\Auth\Access\AuthorizesRequests;
    use Illuminate\Foundation\Bus\DispatchesJobs;
    use Illuminate\Foundation\Validation\ValidatesRequests;
    use Illuminate\Routing\Controller as BaseController;
    use Illuminate\Support\Facades\Auth;
    use Spatie\Permission\Models\Permission;
    use Spatie\Permission\Models\Role;
    use Spatie\Permission\Traits\HasRoles;

    class Controller extends BaseController
    {
        use HasRoles;
        use AuthorizesRequests, DispatchesJobs, ValidatesRequests;

        public function index(){
            if(Auth::user()->hasRole('Administrador')){
                return view('crud.users.index');
            }

            if(Auth::user()->hasRole('Genealogista')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Produccion')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Documentalista')){
                return view('crud.miscelaneos.index');
            }

            if(Auth::user()->hasRole('Traviesoevans')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Vargassequera')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('BadellLaw')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('P&V-Abogados')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Mujica-Coto')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('German-Fleitas')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Soma-Consultores')){
                return view('crud.agclientes.index');
            }
            
            if(Auth::user()->hasRole('MG-Tours')){
                return view('crud.agclientes.index');
            }

            if(Auth::user()->hasRole('Cliente')){
                $IDCliente = Auth::user()->passport;
                return view('arboles.tree', compact('IDCliente'));
            }

            $countries = Country::where('pais','!=','aanull')
                            ->orderBy('pais','ASC')->get();
            $user = Auth()->user();
            return view('inicio', compact('countries', 'user'));
        }
    }
    ```
3. Modificar ruta raíz:
    ```php
	Route::get('/', [Controller::class, 'index'])->name('inicio')->middleware('auth');
    ```
	+ Nota: añadir a la cabecera:
	```php
	use App\Http\Controllers\Controller;
    ```
4. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Laravel-permission"


## Integrar plantilla AdminLTE
+ **Documentación**: https://github.com/jeroennoten/Laravel-AdminLTE
+ **Plantilla**: https://adminlte.io/themes/v3/index.html
1. Integrar AdminLTE: 
	+ $ composer require jeroennoten/laravel-adminlte
2. Publicar vistas:
    + $ php artisan adminlte:install --only=main_views
    ::: tip Nota
    En **resources\views\vendor\adminlte\page.blade.php** es de donde se extienden las plantillas.
    :::
    + Agregar favicon de la aplicación en **resources\views\vendor\adminlte\master.blade.php**:
        ```html
        ≡
        <link rel="shortcut icon" type="image/x-icon" href="{{ asset('/favicon.ico') }}">
        ≡
        ```
3. Ejecutar: 
	+ $ php artisan adminlte:install
4. Crear plantilla modelo: **resources\views\layouts\demoAdminLTE.blade.php**:
    ```php
    @extends('adminlte::page')

    @section('title', 'Demo')

    @section('content_header')
        <h1>Demo</h1>
    @stop

    @section('content')
        <p>Demo.</p>
    @stop

    @section('css')
        <link rel="stylesheet" href="/css/admin_custom.css">
    @stop

    @section('js')
    
    @stop
    ```
    ::: tip Nota
    Se recomienda insertar ruta en **routes\web.php** para probar vistas:
    ```php
    // Para probar vistas
    Route::get('/pruebas', function () {
        return view('layouts.demoAdminLTE');
    });
    ```
    :::
5. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Instalación Plantilla AdminLTE"
	

## Adaptación del proyecto al español
+ https://github.com/laravel-lang/lang
+ https://github.com/jeroennoten/Laravel-AdminLTE/wiki/Translations
1. Pasar AdminLTE a español: 
    + $ php artisan adminlte:install --only=translations
2. Pasar Laravel a español: 
    + $ composer require laravel-lang/lang:~7.0
3. Copiar directorio: **vendor\laravel-lang\lang\src\es** y pegarlo en: **resources\lang**
	::: tip Nota
    También esta la opción:
    + $ composer require laraveles/spanish
    + $ php artisan laraveles:install-lang
    <p></p>
    :::
4. Realizar todas las traducciones necesarios en **resources\lang\es.json**.
5. Configurar a español **config\app.php**
	```php
    ≡
    'locale' => 'es',
    ≡
    ```
6. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Adaptación al español"


## Seeders para prueba de roles y permisos
1. Crear seeder para roles: 
	+ $ php artisan make:seeder RoleSeeder
2. Añadir a cabecera de **database\seeders\RoleSeeder.php**
	```php
    use Spatie\Permission\Models\Role;
    use Spatie\Permission\Models\Permission;
    ```
3. Modificar el método **run** de **database\seeders\RoleSeeder.php**:
	```php
    <?php

    namespace Database\Seeders;

    use Illuminate\Database\Seeder;
    use Spatie\Permission\Models\Role;
    use Spatie\Permission\Models\Permission;

    class RoleSeeder extends Seeder
    {
        /**
        * Run the database seeds.
        *
        * @return void
        */
        public function run()
        {
            // Roles
            $rolAdministrador = Role::create(['name' => 'Administrador']);
            $rolGenealogista = Role::create(['name' => 'Genealogista']);
            $rolDocumentalista = Role::create(['name' => 'Documentalista']);
            $rolProduccion = Role::create(['name' => 'Produccion']);
            $rolCliente = Role::create(['name' => 'Cliente']);
            Role::create(['name' => 'Traviesoevans']);

            Permission::create(['name' => 'administrador'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'genealogista'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'documentalista'])->syncRoles($rolAdministrador, $rolDocumentalista);
            Permission::create(['name' => 'produccion'])->syncRoles($rolAdministrador, $rolProduccion);
            Permission::create(['name' => 'cliente'])->syncRoles($rolAdministrador, $rolCliente);

            Permission::create(['name' => 'crud.users.index'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.users.create'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.users.edit'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.users.destroy'])->syncRoles($rolAdministrador);
            
            Permission::create(['name' => 'crud.roles.index'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.roles.create'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.roles.edit'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.roles.destroy'])->syncRoles($rolAdministrador);
            
            Permission::create(['name' => 'crud.permissions.index'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.permissions.create'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.permissions.edit'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.permissions.destroy'])->syncRoles($rolAdministrador);
            
            Permission::create(['name' => 'crud.countries.index'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.countries.create'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.countries.edit'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.countries.destroy'])->syncRoles($rolAdministrador);
                    
            Permission::create(['name' => 'crud.agclientes.index'])->syncRoles($rolAdministrador, $rolGenealogista, $rolCliente);
            Permission::create(['name' => 'crud.agclientes.create'])->syncRoles($rolAdministrador, $rolGenealogista, $rolCliente);
            Permission::create(['name' => 'crud.agclientes.edit'])->syncRoles($rolAdministrador, $rolGenealogista, $rolCliente);
            Permission::create(['name' => 'crud.agclientes.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'consultas.onidex.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'consultas.onidex.show'])->syncRoles($rolAdministrador, $rolGenealogista);  
                
            Permission::create(['name' => 'crud.parentescos.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.parentescos.create'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.parentescos.edit'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.parentescos.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.lados.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.lados.create'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.lados.edit'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.lados.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.connections.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.connections.create'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.connections.edit'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.connections.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.families.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.families.create'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.families.edit'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.families.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.files.index'])->syncRoles($rolAdministrador, $rolGenealogista,$rolDocumentalista,$rolProduccion,$rolCliente);
            Permission::create(['name' => 'crud.files.create'])->syncRoles($rolAdministrador, $rolGenealogista,$rolDocumentalista,$rolProduccion,$rolCliente);
            Permission::create(['name' => 'crud.files.edit'])->syncRoles($rolAdministrador, $rolGenealogista,$rolDocumentalista,$rolProduccion,$rolCliente);
            Permission::create(['name' => 'crud.files.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.t_files.index'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.t_files.create'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.t_files.edit'])->syncRoles($rolAdministrador, $rolGenealogista);
            Permission::create(['name' => 'crud.t_files.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'administrar.documentos'])->syncRoles($rolAdministrador, $rolGenealogista,$rolDocumentalista,$rolProduccion);

            Permission::create(['name' => 'crud.libraries.index'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.libraries.create'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.libraries.edit'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.libraries.destroy'])->syncRoles($rolAdministrador);
            
            Permission::create(['name' => 'crud.formats.index'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.formats.create'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.formats.edit'])->syncRoles($rolAdministrador);
            Permission::create(['name' => 'crud.formats.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.books.index'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.books.create'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.books.edit'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.books.destroy'])->syncRoles($rolAdministrador);

            Permission::create(['name' => 'crud.miscelaneos.index'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.miscelaneos.create'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.miscelaneos.edit'])->syncRoles($rolAdministrador,$rolGenealogista,$rolDocumentalista);
            Permission::create(['name' => 'crud.miscelaneos.destroy'])->syncRoles($rolAdministrador);
        }
    }
    ```
4. Crear seeder para usuarios: 
    + $ php artisan make:seeder UserSeeder
5. Añadir a cabecera de **database\seeders\UserSeeder.php**:
	```php
	use App\Models\User;
    ```
6. Modificar el método **run** de **database\seeders\UserSeeder.php**:
	```php
    <?php

    namespace Database\Seeders;

    use Illuminate\Database\Seeder;
    use App\Models\User;

    class UserSeeder extends Seeder
    {
        /**
        * Run the database seeds.
        *
        * @return void
        */
        public function run()
        {
            // Usuarios reales
            User::create(['user_id' => '52','name' => 'Pedro Bazó','email' => 'bazo.pedro@gmail.com','password' => '******','password_md5' => '******','created' => '2021/3/9', 'email_verified_at' => date('Y-m-d H:i:s')])->assignRole('Administrador');
            User::create(['user_id' => '2','name' => 'Pedro Bazo','email' => 'documentalista@sefarvzla.com','password' => '******','password_md5' => '******','created' => '2020/5/13'])->assignRole('Administrador');
            User::create(['user_id' => '3','name' => 'Angel Rosales','email' => 'arosales@sefarvzla.com','password' => '******','password_md5' => '******','created' => '2020/5/13'])->assignRole('Genealogista');
            ≡                   
            // Usuarios de prueba
            User::create([
                'name' => 'Prueba Genealogista',
                'email' => 'genealogista@gmail.com',
                'password' => bcrypt('******')
            ])->assignRole('Genealogista');

            User::create([
                'name' => 'Prueba Documentalista',
                'email' => 'documentalista@gmail.com',
                'password' => bcrypt('******')
            ])->assignRole('Documentalista');

            User::create([
                'name' => 'Prueba Producción',
                'email' => 'produccion@gmail.com',
                'password' => bcrypt('******')
            ])->assignRole('Produccion');

            User::create([
                'name' => 'Prueba cliente',
                'email' => 'cliente@gmail.com',
                'password' => bcrypt('******')
            ])->assignRole('Cliente');

            User::create([
                'name' => 'Prueba Traviesoevans',
                'email' => 'traviesoevans@gmail.com',
                'password' => bcrypt('******')
            ])->assignRole('Traviesoevans');

            User::create([
                'name' => 'Prueba Sin Rol',
                'email' => 'sinrol@gmail.com',
                'password' => bcrypt('******')
            ]);

            /* User::factory(99)->create(); */
        }
    }
    ```
7. Modificar el método run **database\seeders\DatabaseSeeder.php**
	```php
    <?php

    namespace Database\Seeders;

    use Illuminate\Database\Seeder;

    class DatabaseSeeder extends Seeder
    {
        /**
        * Seed the application's database.
        *
        * @return void
        */
        public function run()
        {
            $this->call(RoleSeeder::class);
            $this->call(UserSeeder::class);
            $this->call(CountrySeeder::class);
            $this->call(AgclienteSeeder::class);
            $this->call(ParentescoSeeder::class);
            $this->call(LadoSeeder::class);
            $this->call(ConnectionSeeder::class);
            $this->call(TFileSeeder::class);
            $this->call(FormatSeeder::class);
        }
    }
    ```
8. Ejecutar: 
	+ $ php artisan migrate:fresh --seed
	::: tip Nota
	Para correr los seeder sin resetear la base de datos:
	    + $ php artisan db:seed
	<p></p>
    :::
9. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Seeder Roles, Permisos y Usuarios"


## Personalizar el proyecto
1. Agregar a la cabecera del modelo **User**:
	```php
	use Illuminate\Support\Facades\Auth;
    ```
2. Agregar los siguientes métodos a la clase **User**:
	```php
    // Permite incorporar una imagen de usuario
    // Se debe configurar en config\adminlte.php: 'usermenu_image' => true,
    public function adminlte_image(){
        //return 'https://picsum.photos/300/300'; /* Retorna una imagen aleatoria*/
        return Auth::user()->profile_photo_url;
    }

    // Permite incorporar alguna descripción del usuario
    // Se debe configurar en config\adminlte.php: 'usermenu_desc' => ' => true,
    public function adminlte_desc(){
        return 'Aquí la información';
    }

    // Permite incorporar el perfil
    // Se debe configurar en config\adminlte.php: 'usermenu_profile_url' => true,
    public function adminlte_profile_url(){
        return 'user/profile';
    }
    ```
3. Adaptar la configuración del archivo **config\adminlte.php** al proyecto.
	+ **Iconos**: https://fontawesome.com/icons
	+ **Tutorial**: https://www.youtube.com/playlist?list=PLZ2ovOgdI-kWTCkbH749Ukvq7FMz5ahpP
4. Crear archivo de estilos propios del proyecto **public\css\sefar.css**
	```css
    /* Color de fondo rojo Sefar */
    .cfrSefar{
        background-color:rgb(121,22,15) !important;
    }

    .cfrSefar:hover{
        background-color:rgb(204, 98, 90) !important;
        color:rgb(0, 0, 0) !important;
    }

    /* Color de fondo amarillo Sefar */
    .cfaSefar{
        background-color:rgb(247,176,52) !important;
    }

    /* Color de fondo verde Sefar */
    .cfvSefar{
        background-color:rgb(22,43,27) !important;
    }

    /* Color de fondo blanco */
    .cfBlanco{
        background-color:white !important;
    }

    /* Color de fondo gris Sefar */
    .cfgSefar{
        background-color:rgb(63,61,61) !important;
    }

    /* Color de texto rojo Sefar */
    .ctrSefar{
        color:rgb(121,22,15) !important;
    }

    /* Color de texto amarillo Sefar */
    .ctaSefar{
        color:rgb(247,176,52) !important;
    }

    /* Color de texto verde Sefar */
    .ctvSefar{
        color:rgb(22,43,27) !important;
    }

    /* Color de texto gris Sefar */
    .ctgSefar{
        color:rgb(63,61,61) !important;
    }

    /* Color de texto blanco */
    .ctBlanco{
        color:white !important;
    }
    ```
5. Agregar los estilos **public\css\sefar.css** en la sección del estilos de los archivos **archivo resources\views\layouts\guest.blade.php** y **resources\views\layouts\app.blade.php**:
	```php
	<link rel="stylesheet" href="{{ asset('css/sefar.css') }}">
    ```
6. Ubicar un favicon de la empresa, darle el nombre de **favicon.ico** y pegarlo en:
	+ public\
7. Ubicar un logo de la empresa, darle el nombre de **LogoSefar.png** y pegarlo en:
	+ public\vendor\adminlte\dist\img\
8. Crear **resources\views\layouts\logos\logo_sm.blade.php**
	```php
	<img src="{{ asset('vendor\adminlte\dist\img\LogoSefar.png') }}" alt="Logo Sefar" width="50" height="50">
    ```
9.  Crear **resources\views\layouts\logos\logo.blade.php**
	```php
	<img src="{{ asset('vendor\adminlte\dist\img\LogoSefar.png') }}" alt="Logo Sefar" width="100" height="100">
    ```
10. Crear vista **resources\views\inicio.blade.php** para la ruta **inicio**
	```php
    @extends('adminlte::page')

    @section('title', 'Inicio')

    @section('content_header')
        {{-- <h1>Panel Administrativo</h1> --}}
    @stop

    @section('content')
    <x-app-layout>
        @include('pruebas.instructivo')
        <div class="py-12 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-2xl font-bold">FAVOR VERIFICAR LA SIGUIENTE INFORMACIÓN</h1>
                <hr class="mt-2 mb-6">
                <form action="{{ route('clientes.procesar') }}" method ="POST">
                    @csrf
                    <input type="hidden" name="rol" value="Cliente" />
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="container">
                            <p class="my-2 ml-2 text-bold text-blue-600">Datos Clientes:</p>
                            <div class="md:flex ms:flex-wrap">
                                <div class="px-1 py-2 m-2 flex-1">    {{-- passport --}}
                                    <div>
                                        <label for="passport" class="block text-sm font-medium text-gray-700">Pasaporte</label>
                                        <input value="{{ old('passport', $user->passport) }}" type="text" name="passport" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('passport')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- nombres --}}
                                    <div>
                                        <label for="nombres" class="block text-sm font-medium text-gray-700">Nombres</label>
                                        <input value="{{ old('nombres', $user->name) }}" type="text" name="nombres" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('nombres')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- apellidos --}}
                                    <div>
                                        <label for="apellidos" class="block text-sm font-medium text-gray-700">Apellidos</label>
                                        <input value="{{ old('apellidos') }}" type="text" name="apellidos" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('apellidos')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- email --}}
                                    <div>
                                        <label for="email" class="block text-sm font-medium text-gray-700">e-mail</label>
                                        <input value="{{ old('email', $user->email) }}" type="email" name="email" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('email')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
                            </div>
                            <div class="md:flex ms:flex-wrap">
                                <div class="px-1 py-2 m-2 flex">    {{-- fnacimiento --}}
                                    <div>
                                        <label for="fnacimiento" class="block text-sm font-medium text-gray-700" title="Fecha de registro">Fecha de nacimiento</label>
                                        <input value="{{ old('fnacimiento') }}" type="date" name="fnacimiento" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('fnacimiento')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- cnacimiento --}}
                                    <div>
                                        <label for="cnacimiento" class="block text-sm font-medium text-gray-700">Ciudad de nacimiento</label>
                                        <input value="{{ old('cnacimiento') }}" type="text" name="cnacimiento" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                    @error('cnacimiento')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- pnacimiento --}}
                                    <div>
                                        <label for="pnacimiento" class="block text-sm font-medium text-gray-700" title="País de nacimiento">País Nac.</label>
                                        <select name="pnacimiento" autocomplete="country" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                            <option></option>
                                            @foreach ($countries as $country)
                                                @if (old('pnacimiento') == $country->pais)
                                                    <option selected>{{ $country->pais }}</option>
                                                @else
                                                    <option>{{ $country->pais }}</option> 
                                                @endif
                                            @endforeach
                                        </select>
                                    </div>
                                    @error('pnacimiento')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- sexo --}}
                                    <div>
                                        <label for="sexo" class="block text-sm font-medium text-gray-700" title="Sexo">Sexo</label>
                                        <select name="sexo" autocomplete="on" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                            <option></option>
                                            @if (old('sexo') == "M")
                                                <option title="Masculino" selected>M</option>
                                            @else
                                                <option title="Masculino">M</option>
                                            @endif
                                            
                                            @if (old('sexo') == "F")
                                                <option title="Masculino" selected>F</option>
                                            @else
                                                <option title="Masculino">F</option>
                                            @endif
                                        </select>
                                    </div>
                                    @error('sexo')
                                        <strong class="text-xs text-red-500">{{ $message }}</strong>
                                    @enderror
                                </div>
                            </div>
            
                            <p class="my-2 ml-2 text-bold text-blue-800">Datos Familiar:</p>
                            <div class="md:flex ms:flex-wrap">
                                <div class="px-1 py-2 m-2 flex">    {{-- pasaporte_f --}}
                                    <div>
                                        <label for="pasaporte_f" class="block text-sm font-medium text-gray-700">Pasaporte del familiar</label>
                                        <input value="{{ old('pasaporte_f') }}" type="text" name="pasaporte_f" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                </div>
            
                                <div class="px-1 py-2 m-2 flex-1">    {{-- nombre_f --}}
                                    <div>
                                        <label for="nombre_f" class="block text-sm font-medium text-gray-700">Nombres y apellidos del familiar</label>
                                        <input value="{{ old('nombre_f') }}" type="text" name="nombre_f" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="px-4 py-3 bg-gray-50 text-right sm:px-6">
                            <button type="submit" class="cfrSefar inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Enviar
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </x-app-layout>
    @stop

    @section('css')
        <link rel="stylesheet" href="/css/admin_custom.css">
    @stop

    @section('js')
    @stop
    ```
11. Modificar la ruta de inicio en **routes\web.php**
	```php
    // Vista inicio
    Route::get('/', function () {
        return view('inicio');
    })->name('inicio')->middleware('auth');
    ```
12. Adaptar todos los **archivos resources\views\auth** a las características del proyecto
	+ resources\views\auth\confirm-password.blade.php
	+ resources\views\auth\forgot-password.blade.php
	+ resources\views\auth\login.blade.php
	+ resources\views\auth\register.blade.php
	+ resources\views\auth\reset-password.blade.php
	+ resources\views\auth\two-factor-challenge.blade.php
	+ resources\views\auth\verify-email.blade.php
13. Modificar **app\Providers\RouteServiceProvider.php**
    Cambiar:
	```php
	public const HOME = '/dashboard';
    ```
	por:
	```php
	public const HOME = '/';
    ```
14. Realizar commit --:
	+ $ git add .
	+ $ git commit -m "Proyecto personalizado"
	

## Instalar Laravel Collective para facilitar el uso de formularios
+ https://laravelcollective.com/docs/6.x/html
1. Instalar Laravel Collective:
    + $ composer require laravelcollective/html


## Perfil de usuario
1. Rediseñar plantilla **resources\views\profile\update-profile-information-form.blade.php**:
	```php
                    ≡
                    @if ($this->user->profile_photo_path)
                        <x-jet-secondary-button type="button" class="mt-2 cfrSefar ctaSefar" wire:click="deleteProfilePhoto">
                            {{ __('Remove Photo') }}
                        </x-jet-secondary-button>
                    @endif
                    ≡
            @endif
            ≡
        </x-slot>

        <x-slot name="actions">
            ≡
            <x-jet-button wire:loading.attr="disabled" wire:target="photo" class="cfrSefar">
                {{ __('Save') }}
            </x-jet-button>
        </x-slot>
    </x-jet-form-section>
    ```
2. Rediseñar plantilla **resources\views\profile\update-password-form.blade.php**:
	```php
            ≡
            <x-jet-button class="cfrSefar">
                {{ __('Save') }}
            </x-jet-button>
        </x-slot>
    </x-jet-form-section>
    ```
3. Rediseñar plantilla **resources\views\profile\two-factor-authentication-form.blade.php**:
	```php
    ≡
    @if (! $this->enabled)
        <x-jet-confirms-password wire:then="enableTwoFactorAuthentication">
            <x-jet-button type="button" wire:loading.attr="disabled" class="cfrSefar">
                {{ __('Enable') }}
            </x-jet-button>
        </x-jet-confirms-password>
    @else
    ≡
    ```
4. Rediseñar plantilla **resources\views\profile\logout-other-browser-sessions-form.blade.php**:
	```php
    ≡
    <div class="flex items-center mt-5">
        <x-jet-button wire:click="confirmLogout" wire:loading.attr="disabled" class="cfrSefar">
            {{ __('Log Out Other Browser Sessions') }}
        </x-jet-button>

        <x-jet-action-message class="ml-3" on="loggedOut">
            {{ __('Done.') }}
        </x-jet-action-message>
    </div>
    ≡
    ```
5. Rediseñar plantilla **resources\views\navigation-menu.blade.php**:
	```php
    <nav x-data="{ open: false }" class="bg-white border-b border-gray-100">
        <!-- Primary Navigation Menu -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="hidden space-x-8 sm:-my-px sm:ml-10 sm:flex">
                        <div class="block px-2 py-4 text-xl ctvSefar">
                            <strong>{{ Auth::user()->name }}</strong>
                        </div>
                    </div>
                </div>

                <div class="hidden sm:flex sm:items-center sm:ml-6">
                    <!-- Teams Dropdown -->
                    @if (Laravel\Jetstream\Jetstream::hasTeamFeatures())
                        <div class="ml-3 relative">
                            <x-jet-dropdown align="right" width="60">
                                <x-slot name="trigger">
                                    <span class="inline-flex rounded-md">
                                        <button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:bg-gray-50 hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150">
                                            {{ Auth::user()->currentTeam->name }}

                                            <svg class="ml-2 -mr-0.5 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                                <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </span>
                                </x-slot>

                                <x-slot name="content">
                                    <div class="w-60">
                                        <!-- Team Management -->
                                        <div class="block px-4 py-2 text-xs text-gray-400">
                                            {{ __('Manage Team') }}
                                        </div>

                                        <!-- Team Settings -->
                                        <x-jet-dropdown-link href="{{ route('teams.show', Auth::user()->currentTeam->id) }}">
                                            {{ __('Team Settings') }}
                                        </x-jet-dropdown-link>

                                        @can('create', Laravel\Jetstream\Jetstream::newTeamModel())
                                            <x-jet-dropdown-link href="{{ route('teams.create') }}">
                                                {{ __('Create New Team') }}
                                            </x-jet-dropdown-link>
                                        @endcan

                                        <div class="border-t border-gray-100"></div>

                                        <!-- Team Switcher -->
                                        <div class="block px-4 py-2 text-xs text-gray-400">
                                            {{ __('Switch Teams') }}
                                        </div>

                                        @foreach (Auth::user()->allTeams() as $team)
                                            <x-jet-switchable-team :team="$team" />
                                        @endforeach
                                    </div>
                                </x-slot>
                            </x-jet-dropdown>
                        </div>
                    @endif

                    <!-- Settings Dropdown -->
                    <div class="ml-3 relative">
                        <x-jet-dropdown align="right" width="48">
                            <x-slot name="trigger">
                                @if (Laravel\Jetstream\Jetstream::managesProfilePhotos())
                                    <button class="flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition duration-150 ease-in-out">
                                        <img class="h-8 w-8 rounded-full object-cover" src="{{ Auth::user()->profile_photo_url }}" alt="{{ Auth::user()->name }}" />
                                    </button>
                                @else
                                    <span class="inline-flex rounded-md">
                                        <button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150">
                                            {{ Auth::user()->name }}

                                            <svg class="ml-2 -mr-0.5 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </span>
                                @endif
                            </x-slot>

                            <x-slot name="content">
                                <div class="border-t border-gray-100"></div>        
                            </x-slot>
                        </x-jet-dropdown>
                    </div>
                </div>

                <!-- Hamburger -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <button @click="open = ! open" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out">
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path :class="{'hidden': open, 'inline-flex': ! open }" class="inline-flex" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            <path :class="{'hidden': ! open, 'inline-flex': open }" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Responsive Navigation Menu -->
        <div :class="{'block': open, 'hidden': ! open}" class="hidden sm:hidden">

            <!-- Responsive Settings Options -->
            <div class="pt-4 pb-1 border-t border-gray-200">
                <div class="flex items-center px-4">
                    @if (Laravel\Jetstream\Jetstream::managesProfilePhotos())
                        <div class="flex-shrink-0 mr-3">
                            <img class="h-10 w-10 rounded-full object-cover" src="{{ Auth::user()->profile_photo_url }}" alt="{{ Auth::user()->name }}" />
                        </div>
                    @endif

                    <div>
                        <div class="font-medium text-base text-gray-800">{{ Auth::user()->name }}</div>
                        <div class="font-medium text-sm text-gray-500">{{ Auth::user()->email }}</div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    ```
6. Rediseñar vista para el perfil de usuario **resources\views\profile\show.blade.php**:
    ```php
    @extends('adminlte::page')

    @section('title', 'Usuario')

    @section('content_header')
        {{-- <h1>Perfil de usuario</h1> --}}
    @stop

    @section('content')
    <x-app-layout>
        <div>
            <div class="max-w-7xl mx-auto py-10 sm:px-6 lg:px-8">
                @if (Laravel\Fortify\Features::canUpdateProfileInformation())
                    @livewire('profile.update-profile-information-form')

                    <x-jet-section-border />
                @endif

                @if (Laravel\Fortify\Features::enabled(Laravel\Fortify\Features::updatePasswords()))
                    <div class="mt-10 sm:mt-0">
                        @livewire('profile.update-password-form')
                    </div>

                    <x-jet-section-border />
                @endif

                @if (Laravel\Fortify\Features::canManageTwoFactorAuthentication())
                    <div class="mt-10 sm:mt-0">
                        @livewire('profile.two-factor-authentication-form')
                    </div>

                    <x-jet-section-border />
                @endif

                <div class="mt-10 sm:mt-0">
                    @livewire('profile.logout-other-browser-sessions-form')
                </div>

                @if (Laravel\Jetstream\Jetstream::hasAccountDeletionFeatures())
                    <x-jet-section-border />

                    <div class="mt-10 sm:mt-0">
                        @livewire('profile.delete-user-form')
                    </div>
                @endif
            </div>
        </div>
    </x-app-layout>
    @stop

    @section('css')
        <link rel="stylesheet" href="/css/admin_custom.css">
    @stop

    @section('js')

    @stop
	```
7. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Perfil de usuario"


## Integrar Sweetalert
+ https://realrashid.github.io/sweet-alert
1. Ejecutar: 
	+ $ composer require realrashid/sweet-alert
2. Agregar a **config\app.php** en **providers**:
	```php
    ≡
    'providers' => [
        ≡
        /*
        * Package Service Providers...
        */
        RealRashid\SweetAlert\SweetAlertServiceProvider::class,
        ≡
    ],
    ≡
    ```
3. Agregar a **config\app.php** en **aliases**:
	```php
    ≡
    'aliases' => [
        ≡
        'Alert' => RealRashid\SweetAlert\Facades\Alert::class,
        ≡
    ],
    ≡
    ```
	+ **Nota**: agregar a la cabecer del controlador a utilizar:
        ```php
        use RealRashid\SweetAlert\Facades\Alert;
        ```
	+ **Nota**: insertar en la sección content de **resources\views\layouts\app.blade.php**:
	    ```php
		@include('sweetalert::alert', ['cdn' => "https://cdn.jsdelivr.net/npm/sweetalert2@9"])
        ```
		+ Nota: si falla, reemplazar por: @include('sweetalert::alert')
    ::: tip Para integrar Sweetalert2
    + https://sweetalert2.github.io
    1. Ejecutar:
        + $ php artisan adminlte:plugins install
    2. Modificar en **config\adminlte.php**:
        ```php
        ≡
        'Sweetalert2' => [
            'active' => true,   /* Activamos para todas las vistas de la plantilla Sweetalert2 */
            'files' => [
                [
                    'type' 		=> 'js',
                    'asset' 	=> true,
                    'location' 	=> 'vendor/sweetalert2/sweetalert2.all.min.js',
                ],
            ],
        ],
        ≡
        ```
    3. Ejecutar:
    + $ npm install sweetalert2
    4. Agregamos la siguiente instrucción al archivo **resources\js\app.js**
        ```js
        window.Swal = require('sweetalert2');
        ```
    5. Ejecutamos:
        + $ npm run dev		
        + **Nota**: para usarlo:
            + Incluir en la vista luego de la sección **@section('title', '***')**:
                ```php
                @section('plugins.Sweetalert2', true)
                ```
            + Incluir el siguiente script al final de la vista para verificar que esta funcionando:
                ```php
                @section('js')
                    <script>
                        Swal.fire(
                            'Good job!',
                            'You clicked the button!',
                            'success'
                        )
                    </script>
                @stop
                ```
    <p></p>
    :::
4. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Integración Sweetalert"


## Verificación de email con Jetstream
+ https://dev.to/devscamp/segundo-post-de-prueba-4jf1
1. Modificar el archivo **config/fortify.php**:
	```php
    'features' => [
        Features::registration(),
        Features::resetPasswords(),
        Features::emailVerification(),
        Features::updateProfileInformation(),
        Features::updatePasswords(),
        Features::twoFactorAuthentication([
            'confirmPassword' => true,
    ]),
    ```
	Se descomentó:
	```php
	// Features::emailVerification(),
    ```
2. En el modelo **User** implementar la interface **MustVerifyEmail**:
	```php
	class User extends Authenticatable implements MustVerifyEmail
    ```
3. Ingresar en Mailtrap (https://mailtrap.io).
4. Configurar .env con las credenciales de Mailtrap.
	```env
    MAIL_MAILER=smtp
    MAIL_HOST=smtp.mailtrap.io
    MAIL_PORT=2525
    MAIL_USERNAME=7c67f786972696
    MAIL_PASSWORD=8f37b2d25228ba
    MAIL_ENCRYPTION=tls
    ```
5. Modificar variable de entorno en **.env**:
	+ Cambiar **MAIL_FROM_ADDRESS=null** por **MAIL_FROM_ADDRESS=app.web@sefarvzla.com**
6. Modificar la ruta raiz en **routes\web.php**:
	```php
	Route::get('/', [Controller::class, 'index'])->name('inicio')->middleware(['auth', 'verified']);
    ```
7. Publicar los archivos de las notificaciones:
	+ $ php artisan vendor:publish --tag=laravel-notifications
	::: tip Nota
	Ahora en **resources\views\vendor\notifications\email.blade.php**, ahí podremos editar la plantilla de email.
	:::
8. Para personalizar estilos del email:
	+ $ php artisan vendor:publish --tag=laravel-mail
	::: tip Nota
	Ahora en "resources/views/vendor/mail/html/themes/default.css" podremos personalizar los estilos de CSS.
    :::
9. Modificar el archivo de estilo **resources\views\vendor\mail\html\themes\default.css**
	```css
    ≡
    .button-primary {
        background-color: rgb(121,22,15);
        border-bottom: 8px solid #2d3748;
        border-left: 18px solid #2d3748;
        border-right: 18px solid #2d3748;
        border-top: 8px solid #2d3748;
    }
    ≡
    .button-success {
        background-color: rgb(121,22,15);
        border-bottom: 8px solid rgb(121,22,15);
        border-left: 18px solid rgb(121,22,15);
        border-right: 18px solid rgb(121,22,15);
        border-top: 8px solid rgb(121,22,15);
    }
	≡
    ```
10. Modificar plantilla **resources\views\vendor\mail\html\header.blade.php**
	```php
    <tr>
        <td class="header">
            <a href="{{ $url }}" style="display: inline-block;">
                @if (trim($slot) === 'Laravel')
                    <img src="https://laravel.com/img/notification-logo.png" class="logo" alt="Laravel Logo">
                @else
                    <img src="https://app.sefaruniversal.com/vendor/adminlte/dist/img/LogoSefar.png" alt="Logo Sefar" width="100" height="100">
                    <hr>
                    {{ $slot }}
                @endif
            </a>
        </td>
    </tr>
    ```
11. Realizar commit:
	+ $ git add .
	+ $ git commit -m "Verificación de email"



